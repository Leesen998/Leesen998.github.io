<!DOCTYPE html>












  




<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#fff">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    <link href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#fff">


  <link rel="manifest" href="/images/manifest.json">








<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1.MySQL数据库2.SQL语句">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="java学习笔记——基础26(MySQL数据库,SQL语句)">
<meta property="og:url" content="https://leesen998.github.io/2016/11/27/day28笔记/index.html">
<meta property="og:site_name" content="QJun">
<meta property="og:description" content="1.MySQL数据库2.SQL语句">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297629/samples/java%20files/photo-1544729812-46958d74295c.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547815964/samples/java%20files/001km.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547816160/samples/java%20files/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E6%95%B0%E6%8D%AE%E8%A1%A8.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547816429/samples/java%20files/fgfg.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547820640/samples/java%20files/hdfgg.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547820640/samples/java%20files/hgdfgfg.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547903336/samples/java%20files/02.120.10.jpg">
<meta property="og:updated_time" content="2019-01-19T14:23:47.002Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java学习笔记——基础26(MySQL数据库,SQL语句)">
<meta name="twitter:description" content="1.MySQL数据库2.SQL语句">
<meta name="twitter:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297629/samples/java%20files/photo-1544729812-46958d74295c.jpg">



  <link rel="alternate" href="/atom.xml" title="QJun" type="application/atom+xml" />




  <link rel="canonical" href="https://leesen998.github.io/2016/11/27/day28笔记/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>java学习笔记——基础26(MySQL数据库,SQL语句) | QJun</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>



<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://leesen998.github.io" class="github-corner" aria-label="View source on GitHub"><svg width="120" height="120" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 194; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">QJun</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">QJun's Homepage</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leesen998.github.io/2016/11/27/day28笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="QJun">
      <meta itemprop="description" content="Stay Hungry, Stay Foolish!">
      <meta itemprop="image" content="/images/10.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QJun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">java学习笔记——基础26(MySQL数据库,SQL语句)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-11-27 19:48:29" itemprop="dateCreated datePublished" datetime="2016-11-27T19:48:29+08:00">2016-11-27</time>
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/程序设计/" itemprop="url" rel="index"><span itemprop="name">程序设计</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon"
            >
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p class="description"></p>

<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297629/samples/java%20files/photo-1544729812-46958d74295c.jpg" alt="" style="width:100%"></p>
<p>1.MySQL数据库<br>2.SQL语句</p>
<a id="more"></a>    
<h3 id="01数据库概念"><a href="#01数据库概念" class="headerlink" title="01数据库概念"></a>01数据库概念</h3><ul>
<li>A: 什么是数据库<br><strong>数据库</strong>就是存储数据的仓库，其<strong>本质是一个文件系统</strong>，数据按照特定的格式将数据存储起来，用户可以对数据库中的数据进行<strong>增加，修改，删除及查询操作</strong>。</li>
<li>B: 什么是数据库管理系统<br><strong>数据库管理系统</strong>（DataBase Management System，DBMS）：指一种操作和管理数据库的大型软件，用于建立、使用和维护数据库，<br>对数据库进行统一管理和控制，以保证数据库的安全性和完整性。用户通过数据库管理系统访问数据库中表内的数据。</li>
</ul>
<h3 id="02常见的数据库"><a href="#02常见的数据库" class="headerlink" title="02常见的数据库"></a>02常见的数据库</h3><ul>
<li>A: 常见的数据库<br>MYSQL    ：开源免费的数据库，小型的数据库.已经被Oracle收购了.MySQL6.x版本也开始收费。<br>Oracle    ：收费的大型数据库，Oracle公司的产品。Oracle收购SUN公司，收购MYSQL。<br>DB2        ：IBM公司的数据库产品,收费的。常应用在银行系统中.<br>SQLServer：MicroSoft 公司收费的中型的数据库。C#、.net等语言常使用。<br>SyBase    ：已经淡出历史舞台。提供了一个非常专业数据建模的工具PowerDesigner。<br>SQLite    : 嵌入式的小型数据库，应用在手机端。<br>Java相关的数据库：MYSQL，Oracle．<br>这里使用MySQL数据库。MySQL中可以有多个数据库，数据库是真正存储数据的地方</li>
</ul>
<h3 id="03数据库和管理系统"><a href="#03数据库和管理系统" class="headerlink" title="03数据库和管理系统"></a>03数据库和管理系统</h3><pre><code>* A: 数据库管理系统
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">----数据库<span class="number">1</span></span><br><span class="line">	----数据表<span class="number">1</span>a</span><br><span class="line">	----数据表<span class="number">1</span>b</span><br><span class="line">----数据库<span class="number">2</span></span><br><span class="line">	-----数据表<span class="number">2</span>a</span><br><span class="line">	-----数据表<span class="number">2</span>b</span><br></pre></td></tr></table></figure>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547815964/samples/java%20files/001km.png" alt=""></p>
<h3 id="04数据表和Java中类的对应关系"><a href="#04数据表和Java中类的对应关系" class="headerlink" title="04数据表和Java中类的对应关系"></a>04数据表和Java中类的对应关系</h3><pre><code>* A:数据库中以表为组织单位存储数据。
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">表类似我们的Java类，每个字段都有对应的数据类型。</span><br><span class="line">		那么用我们熟悉的java程序来与关系型数据对比，就会发现以下对应关系。</span><br><span class="line">			<span class="string">"类"</span>----------<span class="string">"表"</span></span><br><span class="line">			<span class="string">"类中属性"</span>----------<span class="string">"表中字段"</span></span><br><span class="line">			<span class="string">"对象"</span>----------<span class="string">"表中每条记录"</span></span><br></pre></td></tr></table></figure>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547816160/samples/java%20files/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E6%95%B0%E6%8D%AE%E8%A1%A8.jpg" alt=""></p>
<h3 id="05数据表和Java中类的对应关系用户表举例"><a href="#05数据表和Java中类的对应关系用户表举例" class="headerlink" title="05数据表和Java中类的对应关系用户表举例"></a>05数据表和Java中类的对应关系用户表举例</h3><pre><code>* A:举例:
账务表
id        name        age    
1        lisi        23
2        wang        24

每一条记录对应一个User的对象
[user1  id = 1 name = lisi  age = 23]
[user2    id = 2 name = wang    age = 24]
</code></pre><p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547816429/samples/java%20files/fgfg.png" alt=""></p>
<h3 id="06MySQL数据库安装"><a href="#06MySQL数据库安装" class="headerlink" title="06MySQL数据库安装"></a>06MySQL数据库安装</h3><p>A: 安装步骤参见 day28_source《MySQL安装图解.doc》<br>B: 安装后，MySQL会以windows服务的方式为我们提供数据存储功能。开启和关闭服务的操作：<strong>右键点击我的电脑→管理→服务→可以找到MySQL服务开启或停止。</strong></p>
<h3 id="07数据库在系统服务"><a href="#07数据库在系统服务" class="headerlink" title="07数据库在系统服务"></a>07数据库在系统服务</h3><ul>
<li>A：开启服务和关闭服务<br>方式1: 我的电脑—–&gt; (右键)管理—-&gt;服务和应用程序—-&gt;服务—-找到MySQL服务右键启动或关闭<br>方式2: <strong>进入dos窗口 使用命令: net start mysql 开启MySQL服务;  命令:net stop mysql 关闭MySql服务</strong></li>
</ul>
<h3 id="08MySQL的登录"><a href="#08MySQL的登录" class="headerlink" title="08MySQL的登录"></a>08MySQL的登录</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* A: MySQL是一个需要账户名密码登录的数据库，登陆后使用，它提供了一个默认的root账号，使用安装时设置的密码即可登录。</span><br><span class="line">格式<span class="number">1</span>：cmd&gt;  mysql –u用户名 –p密码</span><br><span class="line">例如：mysql -uroot –proot</span><br><span class="line"></span><br><span class="line">格式<span class="number">2</span>：cmd&gt;  mysql --host=ip地址 --user=用户名 --password=密码</span><br><span class="line">例如：mysql --host=<span class="number">127.0</span>.0.1  --user=root --password=root</span><br></pre></td></tr></table></figure>
<h3 id="09SQLYog软件介绍"><a href="#09SQLYog软件介绍" class="headerlink" title="09SQLYog软件介绍"></a>09SQLYog软件介绍</h3><pre><code>* A: 具体参见 《SQLYog配置.doc》
</code></pre><h3 id="10SQL语句介绍和分类"><a href="#10SQL语句介绍和分类" class="headerlink" title="10SQL语句介绍和分类"></a>10SQL语句介绍和分类</h3><ul>
<li>A:SQL介绍</li>
<li>前面学习了接口的代码体现，现在来学习接口的思想，接下里从生活中的例子进行说明。</li>
<li>举例：我们都知道电脑上留有很多个插口，而这些插口可以插入相应的设备，这些设备为什么能插在上面呢？</li>
<li>主要原因是这些设备在生产的时候符合了这个插口的使用规则，否则将无法插入接口中，更无法使用。发现这个插口的出现让我们使用更多的设备。</li>
</ul>
<p><strong>结构化查询语言(Structured Query Language)简称SQL，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统。<br>创建数据库、创建数据表、向数据表中添加一条条数据信息均需要使用SQL语句</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* B: SQL分类	</span><br><span class="line">* 数据定义语言：简称DDL(Data Definition Language)，用来定义数据库对象：数据库，表，列等。关键字：create，alter，drop等 </span><br><span class="line">* <span class="string">"数据操作语言：简称DML(Data Manipulation Language)，用来对数据库中表的记录进行更新。关键字：insert，delete，update等"</span></span><br><span class="line">* 数据控制语言：简称DCL(Data Control Language)，用来定义数据库的访问权限和安全级别，及创建用户。</span><br><span class="line">* <span class="string">"数据查询语言：简称DQL(Data Query Language)，用来查询数据库中表的记录。关键字：select，from，where等"</span></span><br><span class="line"></span><br><span class="line">* C: SQL通用语法</span><br><span class="line"><span class="string">"SQL语句可以单行或多行书写，以分号结尾"</span></span><br><span class="line">	可使用空格和缩进来增强语句的可读性</span><br><span class="line">	MySQL数据库的SQL语句<span class="string">"不区分大小写"</span>，<span class="string">"建议关键字使用大写"</span>，例如：SELECT * FROM user。</span><br><span class="line">	同样可以<span class="string">"使用/**/的方式完成注释"</span></span><br></pre></td></tr></table></figure>
<h3 id="11数据表中的数据类型"><a href="#11数据表中的数据类型" class="headerlink" title="11数据表中的数据类型"></a>11数据表中的数据类型</h3><p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547820640/samples/java%20files/hdfgg.png" alt=""><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* A:MySQL中的我们常使用的数据类型如下	 </span><br><span class="line">详细的数据类型如下(不建议详细阅读！)</span><br><span class="line">分类	类型名称 	说明 </span><br><span class="line">整数类型	tinyInt	很小的整数</span><br><span class="line">	smallint	小的整数</span><br><span class="line">	mediumint	中等大小的整数</span><br><span class="line">	<span class="keyword">int</span>(integer)	普通大小的整数</span><br><span class="line">小数类型	<span class="keyword">float</span>	单精度浮点数</span><br><span class="line">	<span class="keyword">double</span>	双精度浮点数</span><br><span class="line">	decimal（m,d）	压缩严格的定点数</span><br><span class="line">日期类型	year	YYYY  <span class="number">1901</span>~<span class="number">2155</span></span><br><span class="line">	time	HH:MM:SS  -<span class="number">838</span>:<span class="number">59</span>:<span class="number">59</span>~<span class="number">838</span>:<span class="number">59</span>:<span class="number">59</span></span><br><span class="line">	date	YYYY-MM-DD <span class="number">1000</span>-<span class="number">01</span>-<span class="number">01</span>~<span class="number">9999</span>-<span class="number">12</span>-<span class="number">3</span></span><br><span class="line">	datetime 	YYYY-MM-DD HH:MM:SS <span class="number">1000</span>-<span class="number">01</span>-<span class="number">01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span>~ <span class="number">9999</span>-<span class="number">12</span>-<span class="number">31</span> <span class="number">23</span>:<span class="number">59</span>:<span class="number">59</span></span><br><span class="line">	timestamp	YYYY-MM-DD HH:MM:SS  <span class="number">1970</span>~<span class="number">01</span>~<span class="number">01</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">01</span> UTC~<span class="number">2038</span>-<span class="number">01</span>-<span class="number">19</span> <span class="number">03</span>:<span class="number">14</span>:<span class="number">07</span>UTC</span><br><span class="line">文本、二进制类型	CHAR(M)			M为<span class="number">0</span>~<span class="number">255</span>之间的整数</span><br><span class="line">	VARCHAR(M)		M为<span class="number">0</span>~<span class="number">65535</span>之间的整数</span><br><span class="line">	TINYBLOB	允许长度<span class="number">0</span>~<span class="number">255</span>字节</span><br><span class="line">	BLOB		允许长度<span class="number">0</span>~<span class="number">65535</span>字节</span><br><span class="line">	MEDIUMBLOB	允许长度<span class="number">0</span>~<span class="number">167772150</span>字节</span><br><span class="line">	LONGBLOB	允许长度<span class="number">0</span>~<span class="number">4294967295</span>字节</span><br><span class="line">	TINYTEXT	允许长度<span class="number">0</span>~<span class="number">255</span>字节</span><br><span class="line">	TEXT		允许长度<span class="number">0</span>~<span class="number">65535</span>字节</span><br><span class="line">	MEDIUMTEXT	允许长度<span class="number">0</span>~<span class="number">167772150</span>字节</span><br><span class="line">	LONGTEXT	允许长度<span class="number">0</span>~<span class="number">4294967295</span>字节</span><br><span class="line">	VARBINARY(M)允许长度<span class="number">0</span>~M个字节的变长字节字符串</span><br><span class="line">	BINARY(M)	允许长度<span class="number">0</span>~M个字节的定长字节字符串</span><br></pre></td></tr></table></figure></p>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547820640/samples/java%20files/hgdfgfg.png" alt=""></p>
<h3 id="12创建数据库操作"><a href="#12创建数据库操作" class="headerlink" title="12创建数据库操作"></a>12创建数据库操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">* A: 创建数据库                                                                                                                                                                                                                                                                                    </span><br><span class="line">		格式:</span><br><span class="line">			* create database 数据库名;</span><br><span class="line">			* create database 数据库名 character set 字符集;</span><br><span class="line">		例如：</span><br><span class="line">		#创建数据库 数据库中数据的编码采用的是安装数据库时指定的默认编码 utf8</span><br><span class="line">		CREATE DATABASE day21_1; </span><br><span class="line">		#创建数据库 并指定数据库中数据的编码</span><br><span class="line">		CREATE DATABASE day21_2 CHARACTER SET utf8;</span><br><span class="line">		</span><br><span class="line">	* B: 查看数据库</span><br><span class="line">		查看数据库MySQL服务器中的所有的数据库:</span><br><span class="line">		show databases;</span><br><span class="line">		查看某个数据库的定义的信息:</span><br><span class="line">		show create database 数据库名;</span><br><span class="line">		例如：</span><br><span class="line">		show create database day21_1;</span><br><span class="line">	</span><br><span class="line">	* C: 删除数据库</span><br><span class="line">		drop database 数据库名称;</span><br><span class="line">		例如：</span><br><span class="line">		drop database day21_2;</span><br><span class="line">		</span><br><span class="line">	* D: 其他的数据库操作命令</span><br><span class="line">		切换数据库：</span><br><span class="line">		use 数据库名;</span><br><span class="line">		例如：</span><br><span class="line">		use day21_1;</span><br><span class="line">		</span><br><span class="line">	* E: 查看正在使用的数据库:</span><br><span class="line">		<span class="function">select <span class="title">database</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="13创建数据表格式"><a href="#13创建数据表格式" class="headerlink" title="13创建数据表格式"></a>13创建数据表格式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* A:格式：</span><br><span class="line">		create table 表名(</span><br><span class="line">		   字段名 类型(长度) 约束,</span><br><span class="line">		   字段名 类型(长度) 约束</span><br><span class="line">		);</span><br><span class="line">		例如：</span><br><span class="line">		###创建分类表</span><br><span class="line">		<span class="function">CREATE TABLE <span class="title">sort</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">		  sid INT, #分类ID </span></span></span><br><span class="line"><span class="function"><span class="params">		  sname VARCHAR(<span class="number">100</span>)</span> #分类名称</span></span><br><span class="line"><span class="function">		)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="14约束"><a href="#14约束" class="headerlink" title="14约束"></a>14约束</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">* A: 约束的作用:                                                                                            <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		create table 表名<span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">			   列名 类型(长度)</span> 约束,</span></span><br><span class="line"><span class="function">			   列名 类型<span class="params">(长度)</span> 约束</span></span><br><span class="line"><span class="function">			)</span>;</span><br><span class="line">			限制每一列能写什么数据,不能写什么数据。</span><br><span class="line">		</span><br><span class="line">	* B: 哪些约束:</span><br><span class="line">			主键约束</span><br><span class="line">			非空约束</span><br><span class="line">			唯一约束</span><br><span class="line">			外键约束</span><br><span class="line">格式：</span><br><span class="line"><span class="number">1</span>.在创建表时创建主键，在字段后面加上  primary key.</span><br><span class="line"><span class="function">create table <span class="title">tablename</span><span class="params">(	</span></span></span><br><span class="line"><span class="function"><span class="params">	id <span class="keyword">int</span> primary key,</span></span></span><br><span class="line"><span class="function"><span class="params">	.......</span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span></span><br><span class="line"><span class="function">	</span></span><br><span class="line"><span class="function">2. 在创建表时创建主键，在表创建的最后来指定主键	</span></span><br><span class="line"><span class="function">create table <span class="title">tablename</span><span class="params">(						</span></span></span><br><span class="line"><span class="function"><span class="params">	id <span class="keyword">int</span>，</span></span></span><br><span class="line"><span class="function"><span class="params">	.......，</span></span></span><br><span class="line"><span class="function"><span class="params">	primary key(id)</span></span></span><br><span class="line"><span class="function">)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">3.删除主键：alter table 表名 drop primary key</span>;</span><br><span class="line">	  alter table sort drop primary key;</span><br><span class="line"><span class="number">4</span>.主键自动增长：一般主键是自增长的字段，不需要指定。</span><br><span class="line">实现添加自增长语句,主键字段后加auto_increment(只适用MySQL)</span><br><span class="line">例如：</span><br><span class="line">###创建分类表</span><br><span class="line"><span class="function">CREATE TABLE <span class="title">sort</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  sid INT PRIMARY KEY auto_increment, #分类ID </span></span></span><br><span class="line"><span class="function"><span class="params">  sname VARCHAR(<span class="number">100</span>)</span> #分类名称</span></span><br><span class="line"><span class="function">)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="15SQL代码的保存"><a href="#15SQL代码的保存" class="headerlink" title="15SQL代码的保存"></a>15SQL代码的保存</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* A: 当sql语句执行了，就已经对数据库进行操作了，一般不用保存操作</span><br><span class="line">	在SQLyog 中Ctrl + S 保存的是写sql语句。</span><br></pre></td></tr></table></figure>
<h3 id="16创建用户表"><a href="#16创建用户表" class="headerlink" title="16创建用户表"></a>16创建用户表</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* A: 创建用户表:</span><br><span class="line">	需求:创建用户表,用户编号,姓名,用户的地址</span><br><span class="line">	</span><br><span class="line">	* B: SQL语句</span><br><span class="line">	<span class="function">CREAT TABLE <span class="title">users</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">		uid INT,</span></span></span><br><span class="line"><span class="function"><span class="params">		uname VARCHAR(<span class="number">20</span>)</span>,</span></span><br><span class="line"><span class="function">		uaddress <span class="title">VARCHAR</span><span class="params">(<span class="number">200</span>)</span></span></span><br><span class="line"><span class="function">	)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="17主键约束"><a href="#17主键约束" class="headerlink" title="17主键约束"></a>17主键约束</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* A: 主键是用于标识当前记录的字段。它的特点是非空，唯一。</span><br><span class="line">		在开发中一般情况下主键是不具备任何含义，只是用于标识当前记录。</span><br><span class="line">	* B: 格式：</span><br><span class="line">		<span class="number">1</span>.在创建表时创建主键，在字段后面加上  primary key.</span><br><span class="line">		<span class="function">create table <span class="title">tablename</span><span class="params">(	</span></span></span><br><span class="line"><span class="function"><span class="params">		id <span class="keyword">int</span> primary key,</span></span></span><br><span class="line"><span class="function"><span class="params">		.......</span></span></span><br><span class="line"><span class="function"><span class="params">		)</span></span></span><br><span class="line"><span class="function">		</span></span><br><span class="line"><span class="function">		2. 在创建表时创建主键，在表创建的最后来指定主键	</span></span><br><span class="line"><span class="function">		create table <span class="title">tablename</span><span class="params">(						</span></span></span><br><span class="line"><span class="function"><span class="params">		id <span class="keyword">int</span>，</span></span></span><br><span class="line"><span class="function"><span class="params">		.......，</span></span></span><br><span class="line"><span class="function"><span class="params">		primary key(id)</span></span></span><br><span class="line"><span class="function">		)</span></span><br><span class="line"><span class="function">		</span></span><br><span class="line"><span class="function">		3.删除主键：alter table 表名 drop primary key</span>;</span><br><span class="line">		alter table sort drop primary key;</span><br><span class="line">		</span><br><span class="line">		<span class="number">4</span>.<span class="string">"主键自动增长"</span>：一般主键是<span class="string">"自增长的字段"</span>，不需要指定。</span><br><span class="line">		<span class="string">"实现添加自增长语句,主键字段后加auto_increment(只适用MySQL)"</span></span><br></pre></td></tr></table></figure>
<h3 id="18常见表的操作"><a href="#18常见表的操作" class="headerlink" title="18常见表的操作"></a>18常见表的操作</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* A:<span class="string">"查看表"</span>:<span class="string">"查看数据库中的所有表"</span>：</span><br><span class="line">	<span class="string">"格式：show tables;"</span></span><br><span class="line"></span><br><span class="line">	<span class="string">"查看表结构"</span>：</span><br><span class="line">	格式：desc 表名;</span><br><span class="line">	例如：desc sort;</span><br><span class="line"></span><br><span class="line">* B:<span class="string">"删除表"</span> </span><br><span class="line">* <span class="string">"格式：drop table 表名;"</span></span><br><span class="line">	例如：drop table sort;</span><br></pre></td></tr></table></figure>
<h3 id="19修改表结构"><a href="#19修改表结构" class="headerlink" title="19修改表结构"></a>19修改表结构</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* A: <span class="string">"修改表添加列"</span></span><br><span class="line">	<span class="string">"alter table 表名 add 列名 类型(长度) 约束;"</span>	</span><br><span class="line">	例如：</span><br><span class="line">	#1，为分类表添加一个新的字段为 分类描述 varchar(20)</span><br><span class="line">	<span class="function">ALTER TABLE sort ADD sdesc <span class="title">VARCHAR</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">* B: <span class="string">"修改表修改列的类型长度及约束"</span></span><br><span class="line">	<span class="string">"alter table 表名 modify 列名 类型(长度) 约束; "</span></span><br><span class="line">	例如：</span><br><span class="line">	#2, 为分类表的分类名称字段进行修改，类型varchar(50) 添加约束 not null</span><br><span class="line">	<span class="function">ALTER TABLE sort MODIFY sname <span class="title">VARCHAR</span><span class="params">(<span class="number">50</span>)</span> NOT NULL</span>;</span><br><span class="line"></span><br><span class="line">* C: <span class="string">"修改表修改列名"</span></span><br><span class="line">	<span class="string">"alter table 表名 change 旧列名 新列名 类型(长度) 约束; "</span></span><br><span class="line">	例如：</span><br><span class="line">	#3, 为分类表的分类名称字段进行更换 更换为 snamesname varchar(30)</span><br><span class="line">	<span class="function">ALTER TABLE sort CHANGE sname snamename <span class="title">VARCHAR</span><span class="params">(<span class="number">30</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">* D: <span class="string">"修改表删除列"</span></span><br><span class="line">	<span class="string">"alter table 表名 drop 列名;"</span>	</span><br><span class="line">	例如：</span><br><span class="line">	#4, 删除分类表中snamename这列</span><br><span class="line">	ALTER TABLE sort DROP snamename;</span><br><span class="line"></span><br><span class="line">* E: <span class="string">"修改表名"</span></span><br><span class="line">	<span class="string">"rename table 表名 to 新表名; "</span></span><br><span class="line">	例如：</span><br><span class="line">	#5, 为分类表sort 改名成 category</span><br><span class="line">	RENAME TABLE sort TO category;</span><br><span class="line"></span><br><span class="line">* F: <span class="string">"修改表的字符集"</span></span><br><span class="line">	<span class="string">"salter table 表名 character set 字符集;"</span></span><br><span class="line">	例如：</span><br><span class="line">	#6, 为分类表 category 的编码表进行修改，修改成 gbk</span><br><span class="line">	ALTER TABLE category CHARACTER SET gbk;</span><br></pre></td></tr></table></figure>
<h3 id="20数据表添加数据-1"><a href="#20数据表添加数据-1" class="headerlink" title="20数据表添加数据_1"></a>20数据表添加数据_1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* A:  -- <span class="string">"向表中插入某些列"</span></span><br><span class="line">* 语法：</span><br><span class="line">insert into 表 (列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3</span>..) values  (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>..);</span><br><span class="line">	</span><br><span class="line">* 举例:</span><br><span class="line"><span class="function">INSERT INTO <span class="title">product</span> <span class="params">(id,pname,price)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">1</span>,<span class="string">'笔记本'</span>,<span class="number">5555.99</span>)</span></span>;</span><br><span class="line"><span class="function">INSERT INTO <span class="title">product</span> <span class="params">(id,pname,price)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">2</span>,<span class="string">'智能手机'</span>,<span class="number">9999</span>)</span></span>;</span><br><span class="line">* 注意:</span><br><span class="line">列表,表名问题</span><br><span class="line">对应问题,个数,数据类型</span><br></pre></td></tr></table></figure>
<h3 id="21数据表添加数据-2"><a href="#21数据表添加数据-2" class="headerlink" title="21数据表添加数据_2"></a>21数据表添加数据_2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* A: <span class="string">"添加数据格式,不考虑主键"</span></span><br><span class="line">insert into 表名 (列名) values (值)</span><br><span class="line">* 举例:</span><br><span class="line"><span class="function">INSERT INTO <span class="title">product</span> <span class="params">(pname,price)</span> <span class="title">VALUE</span><span class="params">(<span class="string">'洗衣机'</span>,<span class="number">800</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* B: <span class="string">"添加数据格式,所有值全给出"</span></span><br><span class="line">格式</span><br><span class="line">insert into 表名 values (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>..); --向表中插入所有列</span><br><span class="line"><span class="function">INSERT INOT product <span class="title">VALUES</span> <span class="params">(<span class="number">4</span>,<span class="string">'微波炉'</span>,<span class="number">300.25</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">* C: <span class="string">"添加数据格式,批量写入"</span></span><br><span class="line">格式:</span><br><span class="line">insert into 表名 (列名<span class="number">1</span>,列名<span class="number">2</span>,列名<span class="number">3</span>) values (值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>),(值<span class="number">1</span>,值<span class="number">2</span>,值<span class="number">3</span>)</span><br><span class="line">举例:</span><br><span class="line"><span class="function">INSERT INTO <span class="title">product</span> <span class="params">(pname,price)</span> VALUES</span></span><br><span class="line"><span class="function"><span class="params">(<span class="string">'智能机器人'</span>,<span class="number">25999.22</span>)</span>,</span></span><br><span class="line"><span class="function"><span class="params">(<span class="string">'彩色电视'</span>,<span class="number">1250.36</span>)</span>,</span></span><br><span class="line"><span class="function"><span class="params">(<span class="string">'沙发'</span>,<span class="number">58899.02</span>)</span></span></span><br></pre></td></tr></table></figure>
<h3 id="22更新数据"><a href="#22更新数据" class="headerlink" title="22更新数据"></a>22更新数据</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">* A: <span class="string">"用来修改指定条件的数据，将满足条件的记录指定列修改为指定值"</span></span><br><span class="line">		语法：</span><br><span class="line">		<span class="string">"update 表名 set 字段名=值,字段名=值;"</span></span><br><span class="line">		<span class="string">"update 表名 set 字段名=值,字段名=值 where 条件;"</span></span><br><span class="line">	* B: 注意：</span><br><span class="line">	* <span class="string">"</span></span><br><span class="line"><span class="string">			列名的类型与修改的值要一致.</span></span><br><span class="line"><span class="string">			修改值得时候不能超过最大长度.</span></span><br><span class="line"><span class="string">			值如果是字符串或者日期需要加’’.</span></span><br><span class="line"><span class="string">	  "</span></span><br><span class="line"></span><br><span class="line">	* C: 例如：</span><br><span class="line">		#1，将指定的sname字段中的值 修改成 日用品</span><br><span class="line">		UPDATE sort SET sname=<span class="string">'日用品'</span>;</span><br><span class="line">		#2, 将sid为s002的记录中的sname改成 日用品</span><br><span class="line">		UPDATE sort SET sname=<span class="string">'日用品'</span> WHERE sid=<span class="string">'s002'</span>;</span><br><span class="line">		UPDATE sort SET sname=<span class="string">'日用品'</span> WHERE sid=<span class="string">'s003'</span>;</span><br><span class="line"></span><br><span class="line">update users set username=<span class="string">'欧珀手机 R19'</span>,userprice=<span class="number">5612</span> where userid =<span class="number">3</span>;</span><br><span class="line"><span class="string">"修改2行"</span>：</span><br><span class="line">update users set username=<span class="string">'欧珀手机 R19'</span>,userprice=<span class="number">5612</span> where userid =<span class="number">3</span> or userid=<span class="number">6</span>;</span><br><span class="line"><span class="string">"修改多行"</span>：</span><br><span class="line">update users set username=<span class="string">'欧珀手机 R19'</span>,userprice=<span class="number">8888</span> <span class="function">where userid <span class="title">in</span> <span class="params">(<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">与 AND</span><br><span class="line">或 OR</span><br><span class="line">非 NOT</span><br><span class="line">等于 =</span><br><span class="line">不等于 &lt;&gt;</span><br><span class="line">小于等于 &lt;= </span><br><span class="line"><span class="function">where userid <span class="title">in</span> <span class="params">(<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>)</span> 表示<span class="params">()</span>里的数据都采用</span></span><br></pre></td></tr></table></figure>
<h3 id="23删除数据"><a href="#23删除数据" class="headerlink" title="23删除数据"></a>23删除数据</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* A: 语法：</span><br><span class="line"><span class="number">1</span>、<span class="string">"delete from 表名 where 条件;"</span></span><br><span class="line">	</span><br><span class="line"><span class="number">2</span>、<span class="string">"truncate table 表名;"</span></span><br><span class="line"></span><br><span class="line"> * B: 面试题：</span><br><span class="line">	删除表中所有记录使用delete from 表名; 还是用truncate table 表名;</span><br><span class="line">	<span class="string">"删除方式：delete 一条一条删除，不清空auto_increment记录数。"</span></span><br><span class="line"></span><br><span class="line">	<span class="string">" truncate 直接将表删除，重新建表，auto_increment将置为零，从新开始。"</span></span><br><span class="line"></span><br><span class="line"> * C: 例如：</span><br><span class="line">	DELETE FROM sort WHERE sname=<span class="string">'日用品'</span>;</span><br><span class="line"></span><br><span class="line">	<span class="string">"#表数据清空"</span></span><br><span class="line">	DELETE FROM sort;</span><br></pre></td></tr></table></figure>
<h3 id="24命令行乱码问题"><a href="#24命令行乱码问题" class="headerlink" title="24命令行乱码问题"></a>24命令行乱码问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">A: 问题</span><br><span class="line">	我们在dos命令行操作中文时，会报错</span><br><span class="line">	<span class="function">insert into <span class="title">user</span><span class="params">(username,password)</span> <span class="title">values</span><span class="params">(‘张三’,’<span class="number">123</span>’)</span></span>;		</span><br><span class="line">	ERROR <span class="number">1366</span> (HY000): Incorrect string value: <span class="string">'\xD5\xC5\xC8\xFD'</span> <span class="keyword">for</span> column <span class="string">'username'</span> at row <span class="number">1</span></span><br><span class="line">B: 原因:因为mysql的客户端编码的问题我们的是utf8,而系统的cmd窗口编码是gbk</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、解决方案（临时解决方案）:修改mysql客户端编码。</span><br><span class="line">	show variables like <span class="string">'character%'</span>; 查看所有mysql的编码</span><br><span class="line">	client connetion result 和客户端相关</span><br><span class="line">	database server system 和服务器端相关 </span><br><span class="line">	<span class="string">"将客户端编码修改为gbk"</span>.</span><br><span class="line">	<span class="string">"set character_set_results=gbk; / set names gbk;"</span></span><br><span class="line">	以上操作，<span class="string">"只针对当前窗口有效果"</span>，如果关闭了服务器便失效。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、如果想要永久修改，通过以下方式:</span><br><span class="line">	<span class="string">"在mysql安装目录下有my.ini文件"</span></span><br><span class="line">	<span class="string">"default-character-set=gbk 客户端编码设置	"</span>					</span><br><span class="line">	<span class="string">"character-set-server=utf8 服务器端编码设置"</span></span><br><span class="line">	注意:修改完成配置文件，重启服务</span><br></pre></td></tr></table></figure>
<h3 id="25数据表和测试数据准备"><a href="#25数据表和测试数据准备" class="headerlink" title="25数据表和测试数据准备"></a>25数据表和测试数据准备</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* A: 查询语句，在开发中使用的次数最多，此处使用“zhangwu” 账务表。</span><br><span class="line">		创建账务表：</span><br><span class="line">		<span class="function">CREATE TABLE <span class="title">zhangwu</span> <span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">		  id INT PRIMARY KEY AUTO_INCREMENT, -- 账务ID</span></span></span><br><span class="line"><span class="function"><span class="params">		  zname VARCHAR(<span class="number">200</span>)</span>, -- 账务名称</span></span><br><span class="line"><span class="function">		  zmoney DOUBLE -- 金额</span></span><br><span class="line"><span class="function">		)</span>;</span><br><span class="line">	* B: 插入表记录：</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">1</span>,<span class="string">'吃饭支出'</span>,<span class="number">247</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">2</span>,<span class="string">'工资收入'</span>,<span class="number">12345</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">3</span>,<span class="string">'服装支出'</span>,<span class="number">1000</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">4</span>,<span class="string">'吃饭支出'</span>,<span class="number">325</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">5</span>,<span class="string">'股票收入'</span>,<span class="number">8000</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">6</span>,<span class="string">'打麻将支出'</span>,<span class="number">8000</span>)</span></span>;</span><br><span class="line">		<span class="function">INSERT  INTO <span class="title">zhangwu</span><span class="params">(id,name,money)</span> <span class="title">VALUES</span> <span class="params">(<span class="number">7</span>,<span class="keyword">null</span>,<span class="number">5000</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="26数据的基本查询"><a href="#26数据的基本查询" class="headerlink" title="26数据的基本查询"></a>26数据的基本查询</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">* A: <span class="string">"查询指定字段信息"</span></span><br><span class="line">	<span class="string">"select 字段1,字段2,...from 表名;"</span></span><br><span class="line">	例如：</span><br><span class="line">	select id,name from zhangwu;</span><br><span class="line"></span><br><span class="line">* B: <span class="string">"查询表中所有字段"</span></span><br><span class="line">	<span class="string">"select * from 表名; "</span></span><br><span class="line">	例如：</span><br><span class="line">	select * from zhangwu; </span><br><span class="line">	注意:使用<span class="string">"*"</span>在练习、学习过程中可以使用，<span class="string">"在实际开发中，不推荐使用"</span>。</span><br><span class="line">	原因，要查询的字段信息不明确，若字段数量很多，会导致查询速度很慢。</span><br><span class="line"></span><br><span class="line">* C: <span class="string">"distinct用于去除重复记录"</span></span><br><span class="line">	<span class="string">"select distinct 字段 from 表名;"</span>			</span><br><span class="line">	例如：</span><br><span class="line">	select distinct money from zhangwu;</span><br><span class="line"></span><br><span class="line">* D: <span class="string">"别名查询，使用的as关键字，as可以省略的."</span></span><br><span class="line">	别名可以给表中的字段，表设置别名。 当查询语句复杂时，使用别名可以极大的简便操作。</span><br><span class="line"></span><br><span class="line">	<span class="string">"表别名格式"</span>: </span><br><span class="line">	<span class="string">"select * from 表名 as 别名;"</span></span><br><span class="line">	或</span><br><span class="line">	<span class="string">"select * from 表名 别名;"</span></span><br><span class="line"></span><br><span class="line">	<span class="string">"列别名格式"</span>：</span><br><span class="line">	<span class="string">"select 字段名 as 别名 from 表名;"</span></span><br><span class="line">	或</span><br><span class="line">	<span class="string">"select 字段名 别名 from 表名;"</span></span><br><span class="line">	例如</span><br><span class="line">	表别名：</span><br><span class="line">		select * from zhangwu as zw;</span><br><span class="line">	列别名：</span><br><span class="line">		select money as m from zhangwu;</span><br><span class="line">		select zname as <span class="string">'重新命名列'</span> from zhangwu;</span><br><span class="line">		或</span><br><span class="line">		select money m from zhangwu;</span><br><span class="line">	</span><br><span class="line">	我们在sql语句的操作中，可以直接对列进行运算。</span><br><span class="line">	例如：将所有账务的金额+<span class="number">10000</span>元进行显示.</span><br><span class="line">	SELECT DISTINCT zmoney+<span class="number">1000</span> as <span class="string">'资金求和'</span> FROM zhangwu;</span><br></pre></td></tr></table></figure>
<h3 id="27数据的条件查询-1"><a href="#27数据的条件查询-1" class="headerlink" title="27数据的条件查询_1"></a>27数据的条件查询_1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"> * A:条件查询</span><br><span class="line">		<span class="string">"where语句表条件过滤"</span>。满足条件操作，不满足不操作，多用于数据的查询与修改。</span><br><span class="line">	</span><br><span class="line"> * B : 格式 :</span><br><span class="line">		<span class="string">"select 字段  from 表名  where 条件;"</span>	</span><br><span class="line"> </span><br><span class="line"> * C: <span class="keyword">while</span>条件的种类如下：</span><br><span class="line">	比较运算符	</span><br><span class="line">&gt;  &lt;  &lt;=   &gt;=   =  &lt;&gt;	---------- 大于、小于、大于(小于)等于、<span class="string">"不等于"</span></span><br><span class="line">————————————————————————————————————————————————————————————————————————</span><br><span class="line">BETWEEN  ...AND...      -----------	显示在某一区间的值(<span class="string">"含头含尾"</span>)</span><br><span class="line">————————————————————————————————————————————————————————————————————————</span><br><span class="line">IN(set) 	        -----------<span class="string">"显示在in列表中的值"</span>，例：in(<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line">————————————————————————————————————————————————————————————————————————</span><br><span class="line"><span class="string">"LIKE 通配符"</span>	   	-----------<span class="string">"模糊查询"</span>，Like语句中有两个通配符：</span><br><span class="line"><span class="string">"% 用来匹配多个字符"</span>；例first_name like ‘a%’;</span><br><span class="line"><span class="string">"_ 用来匹配一个字符"</span>。例first_name like ‘a_’;</span><br><span class="line">————————————————————————————————————————————————————————————————————————</span><br><span class="line">IS NULL 	------------判断是否为空</span><br><span class="line">is <span class="keyword">null</span>; 判断为空</span><br><span class="line">is not <span class="keyword">null</span>; 判断不为空</span><br><span class="line">————————————————————————————————————————————————————————————————————————</span><br><span class="line"></span><br><span class="line">* D 逻辑运算符	</span><br><span class="line">and	                  ------------ 多个条件同时成立</span><br><span class="line">or			------------ 多个条件任一成立</span><br><span class="line">not			------------ 不成立，例：<span class="function">where <span class="title">not</span><span class="params">(salary&gt;<span class="number">100</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">* E: 例如：</span><br><span class="line">查询所有吃饭支出记录</span><br><span class="line">SELECT * FROM zhangwu WHERE name = <span class="string">'吃饭支出'</span>;</span><br><span class="line"></span><br><span class="line">查询出金额大于<span class="number">1000</span>的信息</span><br><span class="line">SELECT * FROM zhangwu WHERE money &gt;<span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">查询出金额在<span class="number">2000</span>-<span class="number">5000</span>之间的账务信息</span><br><span class="line">SELECT * FROM zhangwu WHERE money &gt;=<span class="number">2000</span> AND money &lt;=<span class="number">5000</span>;</span><br><span class="line">或</span><br><span class="line">SELECT * FROM zhangwu WHERE money BETWEEN <span class="number">2000</span> AND <span class="number">5000</span>;</span><br><span class="line"></span><br><span class="line">查询出金额是<span class="number">1000</span>或<span class="number">5000</span>或<span class="number">3500</span>的商品信息</span><br><span class="line">SELECT * FROM zhangwu WHERE money =<span class="number">1000</span> OR money =<span class="number">5000</span> OR money =<span class="number">3500</span>;</span><br><span class="line">或</span><br><span class="line">SELECT * <span class="function">FROM zhangwu WHERE money <span class="title">IN</span><span class="params">(<span class="number">1000</span>,<span class="number">5000</span>,<span class="number">3500</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547903336/samples/java%20files/02.120.10.jpg" alt=""></p>
<h3 id="28数据的条件查询-2"><a href="#28数据的条件查询-2" class="headerlink" title="28数据的条件查询_2"></a>28数据的条件查询_2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> * A <span class="string">"模糊查询"</span></span><br><span class="line">	<span class="string">"查询出账务名称包含”支出”的账务信息。"</span></span><br><span class="line">	SELECT * FROM zhangwu WHERE name LIKE <span class="string">"%支出%"</span>;</span><br><span class="line"></span><br><span class="line"> * B <span class="string">"查询出账务名称中是五个字的账务信息"</span></span><br><span class="line">	SELECT * FROM gjp_ledger WHERE ldesc LIKE <span class="string">"_____"</span>; -- 五个下划线_</span><br><span class="line"></span><br><span class="line">* C <span class="string">"查询出账务名称不为null账务信息"</span></span><br><span class="line">	SELECT * FROM zhangwu WHERE name IS NOT NULL;</span><br><span class="line">	SELECT * <span class="function">FROM zhangwu WHERE <span class="title">NOT</span> <span class="params">(name IS NULL)</span></span>;</span><br></pre></td></tr></table></figure>
<h3 id="29排序查询"><a href="#29排序查询" class="headerlink" title="29排序查询"></a>29排序查询</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* A: 排序查询</span><br><span class="line"> 使用格式</span><br><span class="line">	* <span class="string">"通过order by语句，可以将查询出的结果进行排序"</span>。<span class="string">"放置在select语句的"</span><span class="string">"最后"</span>。</span><br><span class="line">	* <span class="string">"SELECT * FROM 表名 ORDER BY 字段ASC;"</span></span><br><span class="line">		* ASC 升序 (默认)</span><br><span class="line">		* DESC 降序</span><br><span class="line">	</span><br><span class="line">* B: 案例代码</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	  查询,对结果集进行排序</span></span><br><span class="line"><span class="comment">	  升序,降序,对指定列排序</span></span><br><span class="line"><span class="comment">	  order by 列名 [desc][asc]</span></span><br><span class="line"><span class="comment">	  desc 降序</span></span><br><span class="line"><span class="comment">	  asc  升序排列,可以不写</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	-- 查询账务表,价格进行升序</span><br><span class="line">	<span class="string">"SELECT * FROM zhangwu ORDER BY zmoney ASC"</span></span><br><span class="line"></span><br><span class="line">	-- 查询账务表,价格进行降序</span><br><span class="line">	SELECT * FROM zhangwu ORDER BY zmoney DESC</span><br><span class="line"></span><br><span class="line">	-- 查询账务表,查询所有的支出,对金额降序排列</span><br><span class="line">	-- <span class="string">"先过滤条件 where 查询的结果再排序"</span></span><br><span class="line">	SELECT * FROM zhangwu WHERE zname LIKE<span class="string">'%支出%'</span> ORDER BY zmoney DESC</span><br></pre></td></tr></table></figure>
<h3 id="30聚合函数"><a href="#30聚合函数" class="headerlink" title="30聚合函数"></a>30聚合函数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">* A: 聚合函数		</span><br><span class="line">* B: 函数介绍</span><br><span class="line">	* 之前我们做的查询都是横向查询，它们都是根据条件一行一行的进行判断，而使用聚合函数查询是纵向查询，</span><br><span class="line">		它是对一列的值进行计算，然后返回一个单一的值；另外聚合函数会忽略空值。</span><br><span class="line">	* count：统计指定列不为NULL的记录行数；</span><br><span class="line">	* sum：计算指定列的数值和，如果指定列；</span><br><span class="line">	* max：计算指定列的最大值，如果指定列是字符串类型，那么使用字符串类型不是数值类型，那么计算结果为<span class="number">0</span>排<span class="number">0</span>序运算；</span><br><span class="line">	* min：计算指定列的最小值，如果指定列是字符串类型，那么使用字符串排序运算；</span><br><span class="line">	* avg：计算指定列的平均值，如果指定列类型不是数值类型，那么计算结果为<span class="number">0</span>；</span><br><span class="line"></span><br><span class="line">* C: 案例代码</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	   使用聚合函数查询计算</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line"></span><br><span class="line">	-- count 求和,对表中的数据的个数求和  count(列名)</span><br><span class="line">	-- 查询统计账务表中,一共有多少条数据</span><br><span class="line">	<span class="function">SELECT <span class="title">COUNT</span><span class="params">(*)</span>AS'count' FROM zhangwu</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	-- sum求和,对一列中数据进行求和计算 <span class="title">sum</span><span class="params">(列名)</span></span></span><br><span class="line"><span class="function">	-- 对账务表查询,对所有的金额求和计算</span></span><br><span class="line"><span class="function">	SELECT <span class="title">SUM</span><span class="params">(zmoney)</span> FROM zhangwu</span></span><br><span class="line"><span class="function">	-- 求和,统计所有支出的总金额</span></span><br><span class="line"><span class="function">	SELECT <span class="title">SUM</span><span class="params">(zname)</span> FROM zhangwu WHERE zname LIKE'%收入%'</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	INSERT INTO <span class="title">zhangwu</span> <span class="params">(zname)</span> <span class="title">VALUES</span> <span class="params">(<span class="string">'彩票收入'</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	-- max 函数,对某列数据,获取最大值</span></span><br><span class="line"><span class="function">	SELECT <span class="title">MAX</span><span class="params">(zmoney)</span> FROM zhangwu</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	-- avg 函数,计算一个列所有数据的平均数</span></span><br><span class="line"><span class="function">	SELECT <span class="title">AVG</span><span class="params">(zmoney)</span>FROM zhangwu</span></span><br></pre></td></tr></table></figure>
<h3 id="31分组查询"><a href="#31分组查询" class="headerlink" title="31分组查询"></a>31分组查询</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">* A: 分组查询</span><br><span class="line">	* a: 使用格式</span><br><span class="line">		* <span class="string">"分组查询是指使用group by字句对查询信息进行分组"</span>,例如：我们要统计出zhanguw表中所有分类账务的总数量,这时就需要使用group by 来对zhangwu表中的账务信息根据parent进行分组操作。</span><br><span class="line">		* </span><br><span class="line">		<span class="string">"* SELECT 字段1,字段2… FROM 表名 GROUP BY 字段 HAVING 条件;"</span></span><br><span class="line"></span><br><span class="line">		* <span class="string">"分组操作中的having子语句"</span>，<span class="string">"是用于在分组后对数据进行过滤的，作用类似于where条件"</span>。</span><br><span class="line">	* b: having与where的区别</span><br><span class="line">		*<span class="string">" having是在"</span>【分组后】<span class="string">"对数据进行过滤"</span>.</span><br><span class="line">		* <span class="string">"where是在"</span>【分组前】<span class="string">"对数据进行过滤"</span></span><br><span class="line">		* having后面可以使用分组函数(统计函数)</span><br><span class="line">		* where后面不可以使用分组函数。</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line"> * B: 案例代码		</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		查询所有的数据</span></span><br><span class="line"><span class="comment">		吃饭支出 共计多少</span></span><br><span class="line"><span class="comment">		工资收入 共计多少</span></span><br><span class="line"><span class="comment">		服装支出 共计多少</span></span><br><span class="line"><span class="comment">		股票收入 共计多少</span></span><br><span class="line"><span class="comment">		打麻将支出 共计多少钱</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">		分组查询:  group by 被分组的列名</span></span><br><span class="line"><span class="comment">		必须跟随聚合函数</span></span><br><span class="line"><span class="comment">		select 查询的时候,被分组的列,要出现在select 选择列的后面</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	  <span class="function">SELECT <span class="title">SUM</span><span class="params">(zmoney)</span>,zname FROM zhangwu GROUP BY zname</span></span><br><span class="line"><span class="function">	  </span></span><br><span class="line"><span class="function">	-- 对zname内容进行分组查询求和,但是只要支出</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	SELECT <span class="title">SUM</span><span class="params">(zmoney)</span>AS 'getsum',zname FROM zhangwu WHERE zname LIKE'%支出%'</span></span><br><span class="line"><span class="function">	GROUP BY zname</span></span><br><span class="line"><span class="function">	ORDER BY getsum DESC</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	-- 对zname内容进行分组查询求和,但是只要支出, 显示金额大于5000</span></span><br><span class="line"><span class="function">	-- 结果集是分组查询后,再次进行筛选,不能使用where, 分组后再次过滤,关键字 having</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">	SELECT <span class="title">SUM</span><span class="params">(zmoney)</span>AS 'getsum',zname FROM zhangwu WHERE zname LIKE'%支出%'</span></span><br><span class="line"><span class="function">	GROUP BY zname HAVING getsum&gt;5000</span></span><br></pre></td></tr></table></figure>
<h3 id="32总结"><a href="#32总结" class="headerlink" title="32总结"></a>32总结</h3>
      
    </div>

    

    
    
    
    
	<div>
      
        <div>
    
        <div style="text-align:center;color: #ff73b3;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
      
    </div>
	
	
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>感谢您的支持，我会继续努力的!</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wexin.JPG" alt="QJun 微信支付"/>
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/11/26/day27笔记/" rel="next" title="java学习笔记——基础25(多线程安全问题(同步、死锁)、等待唤醒机制)">
                <i class="fa fa-chevron-left"></i> java学习笔记——基础25(多线程安全问题(同步、死锁)、等待唤醒机制)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/11/28/day29笔记/" rel="prev" title="java学习笔记——基础27(JDBC,DBUtils)">
                java学习笔记——基础27(JDBC,DBUtils) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MDE0MS8xNjY2OA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/10.jpg"
                alt="QJun" />
            
              <p class="site-author-name" itemprop="name">QJun</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry, Stay Foolish!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">3</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="mailto:qjun@hust.edu.cn" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plus.google.com/" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i>Google</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.facebook.com/" target="_blank" title="FB Page"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://leesen998.github.io/about/" title="关于此博客" target="_blank">关于此博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://poetryscience.ink/" title="Huixin" target="_blank">Huixin</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ultimatehy.github.io/" title="Yong Huang" target="_blank">Yong Huang</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#01数据库概念"><span class="nav-number">1.</span> <span class="nav-text">01数据库概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#02常见的数据库"><span class="nav-number">2.</span> <span class="nav-text">02常见的数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#03数据库和管理系统"><span class="nav-number">3.</span> <span class="nav-text">03数据库和管理系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#04数据表和Java中类的对应关系"><span class="nav-number">4.</span> <span class="nav-text">04数据表和Java中类的对应关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#05数据表和Java中类的对应关系用户表举例"><span class="nav-number">5.</span> <span class="nav-text">05数据表和Java中类的对应关系用户表举例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#06MySQL数据库安装"><span class="nav-number">6.</span> <span class="nav-text">06MySQL数据库安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#07数据库在系统服务"><span class="nav-number">7.</span> <span class="nav-text">07数据库在系统服务</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#08MySQL的登录"><span class="nav-number">8.</span> <span class="nav-text">08MySQL的登录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#09SQLYog软件介绍"><span class="nav-number">9.</span> <span class="nav-text">09SQLYog软件介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10SQL语句介绍和分类"><span class="nav-number">10.</span> <span class="nav-text">10SQL语句介绍和分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11数据表中的数据类型"><span class="nav-number">11.</span> <span class="nav-text">11数据表中的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12创建数据库操作"><span class="nav-number">12.</span> <span class="nav-text">12创建数据库操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13创建数据表格式"><span class="nav-number">13.</span> <span class="nav-text">13创建数据表格式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14约束"><span class="nav-number">14.</span> <span class="nav-text">14约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15SQL代码的保存"><span class="nav-number">15.</span> <span class="nav-text">15SQL代码的保存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16创建用户表"><span class="nav-number">16.</span> <span class="nav-text">16创建用户表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17主键约束"><span class="nav-number">17.</span> <span class="nav-text">17主键约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18常见表的操作"><span class="nav-number">18.</span> <span class="nav-text">18常见表的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19修改表结构"><span class="nav-number">19.</span> <span class="nav-text">19修改表结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20数据表添加数据-1"><span class="nav-number">20.</span> <span class="nav-text">20数据表添加数据_1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21数据表添加数据-2"><span class="nav-number">21.</span> <span class="nav-text">21数据表添加数据_2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22更新数据"><span class="nav-number">22.</span> <span class="nav-text">22更新数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23删除数据"><span class="nav-number">23.</span> <span class="nav-text">23删除数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24命令行乱码问题"><span class="nav-number">24.</span> <span class="nav-text">24命令行乱码问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25数据表和测试数据准备"><span class="nav-number">25.</span> <span class="nav-text">25数据表和测试数据准备</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26数据的基本查询"><span class="nav-number">26.</span> <span class="nav-text">26数据的基本查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27数据的条件查询-1"><span class="nav-number">27.</span> <span class="nav-text">27数据的条件查询_1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#28数据的条件查询-2"><span class="nav-number">28.</span> <span class="nav-text">28数据的条件查询_2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#29排序查询"><span class="nav-number">29.</span> <span class="nav-text">29排序查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#30聚合函数"><span class="nav-number">30.</span> <span class="nav-text">30聚合函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#31分组查询"><span class="nav-number">31.</span> <span class="nav-text">31分组查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#32总结"><span class="nav-number">32.</span> <span class="nav-text">32总结</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="heart">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QJun</span>

  

  
</div>











<div class="weixin-box">
  <div class="weixin-menu">
    <div class="weixin-hover">
      <div class="weixin-description">微信扫一扫，订阅本博客</div>
    </div>
  </div>
</div>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  
    <script type="text/javascript">
      window.livereOptions = {
        refer: '2016/11/27/day28笔记/'
      };
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  
  

  

  

  

  

  

  <script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"tagMode":true,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":100,"height":200,"hOffset":10,"vOffset":10},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script>


  
  
  
  <script type="text/javascript" src="/js/src/dytitle.js"></script>
</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>

<!-- 代码块复制功能 -->
<script type="text/javascript" src="/js/src/clipboard.min.js"></script>  
<script type="text/javascript" src="/js/src/clipboard-use.js"></script>

