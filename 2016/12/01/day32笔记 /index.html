<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-CN"><head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#fff">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



















  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  

  
    
      
    

    
  

  
    
    
    
  











  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">


  <link rel="mask-icon" href="/images/logo.svg" color="#fff">


  <link rel="manifest" href="/images/manifest.json">








<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="1、网络三要素及传输协议2、实现UDP协议的发送端和接收端3、实现TCP协议的客户端和服务器4、TCP上传文件案例">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="java学习笔记——基础30(网络编程)">
<meta property="og:url" content="https://leesen998.github.io/2016/12/01/day32笔记 /index.html">
<meta property="og:site_name" content="QJun">
<meta property="og:description" content="1、网络三要素及传输协议2、实现UDP协议的发送端和接收端3、实现TCP协议的客户端和服务器4、TCP上传文件案例">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297959/samples/java%20files/photo-1544833021-2f0c8afb7fd6.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548162671/samples/java%20files/TCP_IP.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548163129/samples/java%20files/ip.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209632/samples/java%20files/gh11.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/22.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/33.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/44.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/55.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/66.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/77.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209601/samples/java%20files/88.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548227383/samples/java%20files/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s1.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s2.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s3.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s4.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228123/samples/java%20files/rr.jpg">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228382/samples/java%20files/99.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228382/samples/java%20files/99.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548232440/samples/java%20files/%E5%9B%BE%E7%89%871etf.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548250135/samples/java%20files/upload11.png">
<meta property="og:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548249677/samples/java%20files/%E5%9B%BE%E7%89%87dfg1.png">
<meta property="og:updated_time" content="2019-01-23T13:55:42.156Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java学习笔记——基础30(网络编程)">
<meta name="twitter:description" content="1、网络三要素及传输协议2、实现UDP协议的发送端和接收端3、实现TCP协议的客户端和服务器4、TCP上传文件案例">
<meta name="twitter:image" content="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297959/samples/java%20files/photo-1544833021-2f0c8afb7fd6.jpg">



  <link rel="alternate" href="/atom.xml" title="QJun" type="application/atom+xml">




  <link rel="canonical" href="https://leesen998.github.io/2016/12/01/day32笔记 /">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>java学习笔记——基础30(网络编程) | QJun</title>
  









  <style>code {
  color: #00cd00 !important;
}

html {
  font-family: sans-serif; 
  -ms-text-size-adjust: 100%; 
  -webkit-text-size-adjust: 100%; 
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; 
  vertical-align: baseline; 
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; 
  font: inherit; 
  margin: 0; 
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; 
  cursor: pointer; 
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; 
  padding: 0; 
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; 
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; 
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; 
  padding: 0; 
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
::selection {
  background: #262a30;
  color: #fff;
}
body {
  position: relative;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 16px;
  line-height: 2;
  color: #000;
  background: #fff;
}
@media (max-width: 767px) {
  body {
    padding-right: 0 !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  body {
    padding-right: 0 !important;
  }
}
@media (min-width: 1200px) {
  body {
    font-size: 18px;
  }
}
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  padding: 0;
  font-weight: bold;
  line-height: 1.5;
  font-family: 'Roboto Slab', 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 20px 0 15px;
}
h1 {
  font-size: 25px;
}
@media (max-width: 767px) {
  h1 {
    font-size: 21px;
  }
}
h2 {
  font-size: 24px;
}
@media (max-width: 767px) {
  h2 {
    font-size: 20px;
  }
}
h3 {
  font-size: 23px;
}
@media (max-width: 767px) {
  h3 {
    font-size: 19px;
  }
}
h4 {
  font-size: 22px;
}
@media (max-width: 767px) {
  h4 {
    font-size: 18px;
  }
}
h5 {
  font-size: 21px;
}
@media (max-width: 767px) {
  h5 {
    font-size: 17px;
  }
}
h6 {
  font-size: 20px;
}
@media (max-width: 767px) {
  h6 {
    font-size: 16px;
  }
}
p {
  margin: 0 0 20px 0;
}
a,
span.exturl {
  overflow-wrap: break-word;
  word-wrap: break-word;
  background-color: transparent;
  color: #555;
  text-decoration: none;
  outline: none;
  border-bottom: 1px solid #999;
  cursor: pointer;
}
a:hover,
span.exturl:hover,
a:active,
span.exturl:active {
  color: #222;
  border-bottom-color: #222;
}
blockquote {
  margin: 0;
  padding: 0;
}
img {
  display: block;
  margin: auto;
  max-width: 100%;
  height: auto;
}
hr {
  margin: 40px 0;
  height: 3px;
  border: none;
  background-color: #ddd;
  background-image: repeating-linear-gradient(-45deg, #fff, #fff 4px, transparent 4px, transparent 8px);
}
blockquote {
  padding: 0 15px;
  color: #666;
  border-left: 4px solid #ddd;
}
blockquote cite::before {
  content: "-";
  padding: 0 5px;
}
dt {
  font-weight: 700;
}
dd {
  margin: 0;
  padding: 0;
}
kbd {
  border: 1px solid #ccc;
  border-radius: 0.2em;
  box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1);
  background-color: #f9f9f9;
  font-family: inherit;
  background-image: -webkit-linear-gradient(top, #eee, #fff, #eee);
  padding: 0.1em 0.3em;
  white-space: nowrap;
}
.text-left {
  text-align: left;
}
.text-center {
  text-align: center;
}
.text-right {
  text-align: right;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.clearfix:before,
.clearfix:after {
  content: " ";
  display: table;
}
.clearfix:after {
  clear: both;
}
.pullquote {
  width: 45%;
}
.pullquote.left {
  float: left;
  margin-left: 5px;
  margin-right: 10px;
}
.pullquote.right {
  float: right;
  margin-left: 10px;
  margin-right: 5px;
}
.affix.affix.affix {
  position: fixed;
}
.translation {
  margin-top: -20px;
  font-size: 14px;
  color: #999;
}
.scrollbar-measure {
  width: 100px;
  height: 100px;
  overflow: scroll;
  position: absolute;
  top: -9999px;
}
.use-motion .motion-element {
  opacity: 0;
}
table {
  margin: 20px 0;
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  border: 1px solid #ddd;
  font-size: 14px;
  word-break: break-all;
}
table>tbody>tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
table>tbody>tr:hover {
  background-color: #f5f5f5;
}
caption,
th,
td {
  padding: 8px;
  text-align: left;
  vertical-align: middle;
  font-weight: normal;
}
th,
td {
  border-bottom: 3px solid #ddd;
  border-right: 1px solid #eee;
}
th {
  padding-bottom: 10px;
  font-weight: 700;
}
td {
  border-bottom-width: 1px;
}
html,
body {
  height: 100%;
}
.container {
  position: relative;
  min-height: 100%;
}
.header-inner {
  margin: 0 auto;
  padding: 100px 0 70px;
  width: 700px;
}
@media (min-width: 1200px) {
  .container .header-inner {
    width: 800px;
  }
}
@media (min-width: 1600px) {
  .container .header-inner {
    width: 900px;
  }
}
.main {
  padding-bottom: 150px;
}
.main-inner {
  margin: 0 auto;
  width: 700px;
}
@media (min-width: 1200px) {
  .container .main-inner {
    width: 800px;
  }
}
@media (min-width: 1600px) {
  .container .main-inner {
    width: 900px;
  }
}
.footer {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  min-height: 50px;
}
.footer-inner {
  box-sizing: border-box;
  margin: 20px auto;
  width: 700px;
}
@media (min-width: 1200px) {
  .container .footer-inner {
    width: 800px;
  }
}
@media (min-width: 1600px) {
  .container .footer-inner {
    width: 900px;
  }
}
pre,
.highlight {
  overflow: auto;
  margin: 20px 0;
  padding: 0;
  font-size: 14px;
  color: #ccc;
  background: #2d2d2d;
  line-height: 1.6;
}
pre,
code {
  font-family: 'consolas', consolas, Menlo, "PingFang SC", "Microsoft YaHei", monospace;
}
code {
  overflow-wrap: break-word;
  word-wrap: break-word;
  padding: 2px 4px;
  color: #fc6423;
  background: #fc6423;
  border-radius: 3px;
  font-size: 14px;
}
pre {
  padding: 10px;
}
pre code {
  padding: 0;
  color: #ccc;
  background: none;
  text-shadow: none;
}
.highlight {
  border-radius: 1px;
}
.highlight pre {
  border: none;
  margin: 0;
  padding: 10px 0;
}
.highlight table {
  margin: 0;
  width: auto;
  border: none;
}
.highlight td {
  border: none;
  padding: 0;
}
.highlight figcaption {
  font-size: 1em;
  color: #ccc;
  line-height: 1em;
  margin-bottom: 1em;
  margin: 0em;
  padding: 0.5em;
  background: #fc6423;
  border-bottom: 1px solid #e9e9e9;
}
.highlight figcaption:before,
.highlight figcaption:after {
  content: " ";
  display: table;
}
.highlight figcaption:after {
  clear: both;
}
.highlight figcaption a {
  float: right;
  color: #ccc;
}
.highlight figcaption a:hover {
  border-bottom-color: #ccc;
}
.highlight .gutter pre {
  padding-left: 10px;
  padding-right: 10px;
  color: #999;
  text-align: right;
  background-color: #1b1b1b;
}
.highlight .code pre {
  width: 100%;
  padding-left: 100px;
  padding-right: 10px;
  background-color: #2d2d2d;
}
.highlight .line {
  height: 20px;
}
.gutter {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.gist table {
  width: auto;
}
.gist table td {
  border: none;
}
pre .deletion {
  background: #008000;
}
pre .addition {
  background: #800000;
}
pre .meta {
  color: #c9c;
}
pre .comment {
  color: #999;
}
pre .variable,
pre .attribute,
pre .tag,
pre .regexp,
pre .ruby .constant,
pre .xml .tag .title,
pre .xml .pi,
pre .xml .doctype,
pre .html .doctype,
pre .css .id,
pre .css .class,
pre .css .pseudo {
  color: #f2777a;
}
pre .number,
pre .preprocessor,
pre .built_in,
pre .literal,
pre .params,
pre .constant,
pre .command {
  color: #f99157;
}
pre .ruby .class .title,
pre .css .rules .attribute,
pre .string,
pre .value,
pre .inheritance,
pre .header,
pre .ruby .symbol,
pre .xml .cdata,
pre .special,
pre .number,
pre .formula {
  color: #9c9;
}
pre .title,
pre .css .hexcolor {
  color: #6cc;
}
pre .function,
pre .python .decorator,
pre .python .title,
pre .ruby .function .title,
pre .ruby .title .keyword,
pre .perl .sub,
pre .javascript .title,
pre .coffeescript .title {
  color: #69c;
}
pre .keyword,
pre .javascript .function {
  color: #c9c;
}
.posts-expand .post-body img.full-image {
  border: none;
}
.blockquote-center,
.page-home .post-type-quote blockquote,
.page-post-detail .post-type-quote blockquote {
  position: relative;
  margin: 40px 0;
  padding: 0;
  border-left: none;
  text-align: center;
}
.blockquote-center::before,
.page-home .post-type-quote blockquote::before,
.page-post-detail .post-type-quote blockquote::before,
.blockquote-center::after,
.page-home .post-type-quote blockquote::after,
.page-post-detail .post-type-quote blockquote::after {
  position: absolute;
  content: ' ';
  display: block;
  width: 100%;
  height: 24px;
  opacity: 0.2;
  background-repeat: no-repeat;
  background-position: 0 -6px;
  background-size: 22px 22px;
}
.blockquote-center::before,
.page-home .post-type-quote blockquote::before,
.page-post-detail .post-type-quote blockquote::before {
  top: -20px;
  background-image: url("../images/quote-l.svg");
  border-top: 1px solid #ccc;
}
.blockquote-center::after,
.page-home .post-type-quote blockquote::after,
.page-post-detail .post-type-quote blockquote::after {
  bottom: -20px;
  background-image: url("../images/quote-r.svg");
  border-bottom: 1px solid #ccc;
  background-position: 100% 8px;
}
.blockquote-center p,
.page-home .post-type-quote blockquote p,
.page-post-detail .post-type-quote blockquote p,
.blockquote-center div,
.page-home .post-type-quote blockquote div,
.page-post-detail .post-type-quote blockquote div {
  text-align: center;
}
.post .post-body .group-picture img {
  box-sizing: border-box;
  padding: 0 3px;
  border: none;
}
.post .group-picture-row {
  overflow: hidden;
  margin-top: 6px;
}
.post .group-picture-row:first-child {
  margin-top: 0;
}
.post .group-picture-column {
  float: left;
}
.page-post-detail .post-body .group-picture-column {
  float: none;
  margin-top: 10px;
  width: auto !important;
}
.page-post-detail .post-body .group-picture-column img {
  margin: 0 auto;
}
.page-archive .group-picture-container {
  overflow: hidden;
}
.page-archive .group-picture-row {
  float: left;
}
.page-archive .group-picture-row:first-child {
  margin-top: 6px;
}
.page-archive .group-picture-column {
  max-width: 150px;
  max-height: 150px;
}
.post-body .note {
  position: relative;
  padding: 15px;
  margin-bottom: 20px;
  border: initial;
  border-left: 3px solid #eee;
  background-color: #f9f9f9;
  border-radius: 3px;
}
.post-body .note h2,
.post-body .note h3,
.post-body .note h4,
.post-body .note h5,
.post-body .note h6 {
  margin-top: 3px;
  margin-bottom: 0;
  border-bottom: initial;
  padding-top: 0 !important;
}
.post-body .note p:first-child,
.post-body .note ul:first-child,
.post-body .note ol:first-child,
.post-body .note table:first-child,
.post-body .note pre:first-child,
.post-body .note blockquote:first-child {
  margin-top: 0;
}
.post-body .note p:last-child,
.post-body .note ul:last-child,
.post-body .note ol:last-child,
.post-body .note table:last-child,
.post-body .note pre:last-child,
.post-body .note blockquote:last-child {
  margin-bottom: 0;
}
.post-body .note:not(.no-icon) {
  padding-left: 45px;
}
.post-body .note:not(.no-icon):before {
  position: absolute;
  font-family: 'FontAwesome';
  font-size: larger;
  top: 13px;
  left: 15px;
}
.post-body .note.default {
  background-color: #f7f7f7;
  border-left-color: #777;
}
.post-body .note.default h2,
.post-body .note.default h3,
.post-body .note.default h4,
.post-body .note.default h5,
.post-body .note.default h6 {
  color: #777;
}
.post-body .note.default:not(.no-icon):before {
  content: "\f0a9";
  color: #777;
}
.post-body .note.primary {
  background-color: #f5f0fa;
  border-left-color: #6f42c1;
}
.post-body .note.primary h2,
.post-body .note.primary h3,
.post-body .note.primary h4,
.post-body .note.primary h5,
.post-body .note.primary h6 {
  color: #6f42c1;
}
.post-body .note.primary:not(.no-icon):before {
  content: "\f055";
  color: #6f42c1;
}
.post-body .note.info {
  background-color: #eef7fa;
  border-left-color: #428bca;
}
.post-body .note.info h2,
.post-body .note.info h3,
.post-body .note.info h4,
.post-body .note.info h5,
.post-body .note.info h6 {
  color: #428bca;
}
.post-body .note.info:not(.no-icon):before {
  content: "\f05a";
  color: #428bca;
}
.post-body .note.success {
  background-color: #eff8f0;
  border-left-color: #5cb85c;
}
.post-body .note.success h2,
.post-body .note.success h3,
.post-body .note.success h4,
.post-body .note.success h5,
.post-body .note.success h6 {
  color: #5cb85c;
}
.post-body .note.success:not(.no-icon):before {
  content: "\f058";
  color: #5cb85c;
}
.post-body .note.warning {
  background-color: #fdf8ea;
  border-left-color: #f0ad4e;
}
.post-body .note.warning h2,
.post-body .note.warning h3,
.post-body .note.warning h4,
.post-body .note.warning h5,
.post-body .note.warning h6 {
  color: #f0ad4e;
}
.post-body .note.warning:not(.no-icon):before {
  content: "\f06a";
  color: #f0ad4e;
}
.post-body .note.danger {
  background-color: #fcf1f2;
  border-left-color: #d9534f;
}
.post-body .note.danger h2,
.post-body .note.danger h3,
.post-body .note.danger h4,
.post-body .note.danger h5,
.post-body .note.danger h6 {
  color: #d9534f;
}
.post-body .note.danger:not(.no-icon):before {
  content: "\f056";
  color: #d9534f;
}
.post-body .label {
  display: inline;
  padding: 0 2px;
  white-space: nowrap;
}
.post-body .label.default {
  background-color: #f0f0f0;
}
.post-body .label.primary {
  background-color: #efe6f7;
}
.post-body .label.info {
  background-color: #e5f2f8;
}
.post-body .label.success {
  background-color: #e7f4e9;
}
.post-body .label.warning {
  background-color: #fcf6e1;
}
.post-body .label.danger {
  background-color: #fae8eb;
}
.post-body .tabs {
  position: relative;
  display: block;
  margin-bottom: 20px;
  padding-top: 10px;
}
.post-body .tabs ul.nav-tabs {
  margin: 0;
  padding: 0;
  display: flex;
  margin-bottom: -1px;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs {
    display: block;
    margin-bottom: 5px;
  }
}
.post-body .tabs ul.nav-tabs li.tab {
  list-style-type: none !important;
  margin: 0 0.25em 0 0;
  border-top: 3px solid transparent;
  border-left: 1px solid transparent;
  border-right: 1px solid transparent;
  transition-duration: 0.2s;
  transition-timing-function: ease-out;
  transition-delay: 0s;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab {
    margin: initial;
    border-top: 1px solid transparent;
    border-left: 3px solid transparent;
    border-right: 1px solid transparent;
    border-bottom: 1px solid transparent;
  }
}
.post-body .tabs ul.nav-tabs li.tab a {
  outline: 0;
  border-bottom: initial;
  display: block;
  line-height: 1.8em;
  padding: 0.25em 0.75em;
  transition-duration: 0.2s;
  transition-timing-function: ease-out;
  transition-delay: 0s;
}
.post-body .tabs ul.nav-tabs li.tab a i {
  width: 1.285714285714286em;
}
.post-body .tabs ul.nav-tabs li.tab.active {
  border-top: 3px solid #fc6423;
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  background-color: #fff;
}
@media (max-width: 413px) {
  .post-body .tabs ul.nav-tabs li.tab.active {
    border-top: 1px solid #ddd;
    border-left: 3px solid #fc6423;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
  }
}
.post-body .tabs ul.nav-tabs li.tab.active a {
  cursor: default;
  color: #555;
}
.post-body .tabs .tab-content {
  background-color: #fff;
}
.post-body .tabs .tab-content .tab-pane {
  border: 1px solid #ddd;
  padding: 20px 20px 0 20px;
}
.post-body .tabs .tab-content .tab-pane:not(.active) {
  display: none !important;
}
.post-body .tabs .tab-content .tab-pane.active {
  display: block !important;
}
.btn {
  display: inline-block;
  padding: 0 20px;
  font-size: 14px;
  color: #fff;
  background: #222;
  border: 2px solid #222;
  text-decoration: none;
  border-radius: 0;
  transition-property: background-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  line-height: 2;
}
.btn:hover {
  border-color: #222;
  color: #222;
  background: #fff;
}
.btn +.btn {
  margin: 0 0 8px 8px;
}
.btn .fa-fw {
  width: 1.285714285714286em;
  text-align: left;
}
.btn-bar {
  display: block;
  width: 22px;
  height: 2px;
  background: #000;
  border-radius: 1px;
}
.btn-bar+.btn-bar {
  margin-top: 4px;
}
.pagination {
  margin: 120px 0 40px;
  text-align: center;
  border-top: 1px solid #eee;
}
.page-number-basic,
.pagination .prev,
.pagination .next,
.pagination .page-number,
.pagination .space {
  display: inline-block;
  position: relative;
  top: -1px;
  margin: 0 10px;
  padding: 0 11px;
}
@media (max-width: 767px) {
  .page-number-basic,
  .pagination .prev,
  .pagination .next,
  .pagination .page-number,
  .pagination .space {
    margin: 0 5px;
  }
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  border-bottom: 0;
  border-top: 1px solid #eee;
  transition-property: border-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.pagination .prev:hover,
.pagination .next:hover,
.pagination .page-number:hover {
  border-top-color: #222;
}
.pagination .space {
  padding: 0;
  margin: 0;
}
.pagination .prev {
  margin-left: 0;
}
.pagination .next {
  margin-right: 0;
}
.pagination .page-number.current {
  color: #fff;
  background: #ccc;
  border-top-color: #ccc;
}
@media (max-width: 767px) {
  .pagination {
    border-top: none;
  }
  .pagination .prev,
  .pagination .next,
  .pagination .page-number {
    margin-bottom: 10px;
    border-top: 0;
    border-bottom: 1px solid #eee;
    padding: 0 10px;
  }
  .pagination .prev:hover,
  .pagination .next:hover,
  .pagination .page-number:hover {
    border-bottom-color: #222;
  }
}
.comments {
  margin: 60px 20px 0;
}
.tag-cloud {
  text-align: center;
}
.tag-cloud a {
  display: inline-block;
  margin: 10px;
}
.back-to-top {
  box-sizing: border-box;
  position: fixed;
  bottom: -100px;
  right: 30px;
  z-index: 1050;
  padding: 0 6px;
  width: initial;
  background: #222;
  font-size: 12px;
  opacity: 1;
  color: #fff;
  cursor: pointer;
  text-align: center;
  -webkit-transform: translateZ(0);
  transition-property: bottom;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
@media (min-width: 768px) and (max-width: 991px) {
  .back-to-top {
    right: 20px;
    opacity: 0.8;
  }
}
@media (max-width: 767px) {
  .back-to-top {
    right: 20px;
    opacity: 0.8;
  }
}
.back-to-top.back-to-top-on {
  bottom: 19px;
}
.header {
  background: transparent;
}
.header-inner {
  position: relative;
}
.headband {
  height: 3px;
  background: #222;
}
.site-meta {
  margin: 0;
  text-align: center;
}
@media (max-width: 767px) {
  .site-meta {
    text-align: center;
  }
}
.brand {
  position: relative;
  display: inline-block;
  padding: 0 40px;
  color: #fff;
  background: #222;
  border-bottom: none;
}
.brand:hover {
  color: #fff;
}
.logo {
  display: inline-block;
  margin-right: 5px;
  line-height: 36px;
  vertical-align: top;
}
.site-title {
  display: inline-block;
  vertical-align: top;
  line-height: 36px;
  font-size: 20px;
  font-weight: normal;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
.site-subtitle {
  margin-top: 10px;
  font-size: 13px;
  color: #999;
}
.use-motion .brand {
  opacity: 0;
}
.use-motion .logo,
.use-motion .site-title,
.use-motion .site-subtitle {
  opacity: 0;
  position: relative;
  top: -10px;
}
.site-nav-toggle {
  display: none;
  position: absolute;
  top: 10px;
  left: 10px;
}
@media (max-width: 767px) {
  .site-nav-toggle {
    display: block;
  }
}
.site-nav-toggle button {
  margin-top: 2px;
  padding: 9px 10px;
  background: transparent;
  border: none;
}
@media (max-width: 767px) {
  .site-nav {
    display: none;
    margin: 0 -10px;
    padding: 0 10px;
    clear: both;
    border-top: 1px solid #ddd;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .site-nav {
    display: block !important;
  }
}
@media (min-width: 992px) {
  .site-nav {
    display: block !important;
  }
}
.menu {
  margin-top: 20px;
  padding-left: 0;
  text-align: center;
}
.menu .menu-item {
  display: inline-block;
  margin: 0 10px;
  list-style: none;
}
@media screen and (max-width: 767px) {
  .menu .menu-item {
    margin-top: 10px;
  }
}
.menu .menu-item a {
  display: block;
  font-size: 13px;
  line-height: inherit;
  border-bottom: 1px solid transparent;
  transition-property: border-color;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.menu .menu-item a:hover {
  border-bottom-color: #222;
}
.menu .menu-item .fa {
  margin-right: 5px;
}
.use-motion .menu-item {
  opacity: 0;
}
.post-body {
  overflow-wrap: break-word;
  word-wrap: break-word;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
}
.post-body span.exturl .fa {
  font-size: 14px;
  margin-left: 4px;
}
.post-body .fancybox img {
  display: block !important;
  margin: 0 auto;
  cursor: pointer;
  cursor: zoom-in;
  cursor: -webkit-zoom-in;
}
.post-body .image-caption,
.post-body .figure .caption {
  margin: -20px auto 15px;
  text-align: center;
  font-size: 16px;
  color: #999;
  font-weight: bold;
  line-height: 1;
}
.post-sticky-flag {
  display: inline-block;
  font-size: 16px;
  -ms-transform: rotate(30deg);
  -webkit-transform: rotate(30deg);
  -moz-transform: rotate(30deg);
  -ms-transform: rotate(30deg);
  -o-transform: rotate(30deg);
  transform: rotate(30deg);
}
.use-motion .post-block,
.use-motion .pagination,
.use-motion .comments {
  opacity: 0;
}
.use-motion .post-header {
  opacity: 0;
}
.use-motion .post-body {
  opacity: 0;
}
.use-motion .collection-title {
  opacity: 0;
}
.posts-expand {
  padding-top: 40px;
}
@media (max-width: 767px) {
  .posts-expand {
    margin: 0 20px;
  }
  .post-body pre .gutter pre {
    padding-right: 10px;
  }
  .post-body .highlight {
    margin-left: 0px;
    margin-right: 0px;
    padding: 0;
  }
  .post-body .highlight .gutter pre {
    padding-right: 10px;
  }
}
@media (min-width: 992px) {
  .posts-expand .post-body {
    text-align: justify;
  }
}
.posts-expand .post-body h2,
.posts-expand .post-body h3,
.posts-expand .post-body h4,
.posts-expand .post-body h5,
.posts-expand .post-body h6 {
  padding-top: 10px;
}
.posts-expand .post-body h2 .header-anchor,
.posts-expand .post-body h3 .header-anchor,
.posts-expand .post-body h4 .header-anchor,
.posts-expand .post-body h5 .header-anchor,
.posts-expand .post-body h6 .header-anchor {
  float: right;
  margin-left: 10px;
  color: #ccc;
  border-bottom-style: none;
  visibility: hidden;
}
.posts-expand .post-body h2 .header-anchor:hover,
.posts-expand .post-body h3 .header-anchor:hover,
.posts-expand .post-body h4 .header-anchor:hover,
.posts-expand .post-body h5 .header-anchor:hover,
.posts-expand .post-body h6 .header-anchor:hover {
  color: inherit;
}
.posts-expand .post-body h2:hover .header-anchor,
.posts-expand .post-body h3:hover .header-anchor,
.posts-expand .post-body h4:hover .header-anchor,
.posts-expand .post-body h5:hover .header-anchor,
.posts-expand .post-body h6:hover .header-anchor {
  visibility: visible;
}
.posts-expand .post-body ul li {
  list-style: circle;
}
.posts-expand .post-body img {
  box-sizing: border-box;
  margin: auto;
  padding: 3px;
  border: 1px solid #ddd;
}
.posts-expand .post-body .fancybox img {
  margin: 0 auto 25px;
}
.posts-expand .post-body img {
  margin: 0 auto 25px;
}
@media (max-width: 767px) {
  .posts-collapse {
    margin: 0 20px;
  }
  .posts-collapse .post-title,
  .posts-collapse .post-meta {
    display: block;
    width: auto;
    text-align: left;
  }
}
.posts-collapse {
  position: relative;
  z-index: 1010;
  margin-left: 55px;
}
.posts-collapse::after {
  content: " ";
  position: absolute;
  top: 20px;
  left: 0;
  margin-left: -2px;
  width: 4px;
  height: 100%;
  background: #f5f5f5;
  z-index: -1;
}
@media (max-width: 767px) {
  .posts-collapse {
    margin: 0 20px;
  }
}
.posts-collapse .collection-title {
  position: relative;
  margin: 60px 0;
}
.posts-collapse .collection-title h1,
.posts-collapse .collection-title h2 {
  margin-left: 20px;
}
.posts-collapse .collection-title small {
  color: #bbb;
  margin-left: 5px;
}
.posts-collapse .collection-title::before {
  content: " ";
  position: absolute;
  left: 0;
  top: 50%;
  margin-left: -4px;
  margin-top: -4px;
  width: 8px;
  height: 8px;
  background: #bbb;
  border-radius: 50%;
}
.posts-collapse .post {
  margin: 30px 0;
}
.posts-collapse .post-header {
  position: relative;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: border;
  border-bottom: 1px dashed #ccc;
}
.posts-collapse .post-header::before {
  content: " ";
  position: absolute;
  left: 0;
  top: 12px;
  width: 6px;
  height: 6px;
  margin-left: -4px;
  background: #bbb;
  border-radius: 50%;
  border: 1px solid #fff;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: background;
}
.posts-collapse .post-header:hover {
  border-bottom-color: #666;
}
.posts-collapse .post-header:hover::before {
  background: #222;
}
.posts-collapse .post-meta {
  position: absolute;
  font-size: 12px;
  left: 20px;
  top: 5px;
}
.posts-collapse .post-comments-count {
  display: none;
}
.posts-collapse .post-title {
  margin-left: 60px;
  font-size: 16px;
  font-weight: normal;
  line-height: inherit;
}
.posts-collapse .post-title::after {
  margin-left: 3px;
  opacity: 0.6;
}
.posts-collapse .post-title a {
  color: #666;
  border-bottom: none;
}
.page-home .post-type-quote .post-header,
.page-post-detail .post-type-quote .post-header,
.page-home .post-type-quote .post-tags,
.page-post-detail .post-type-quote .post-tags {
  display: none;
}
.posts-expand .post-title {
  overflow-wrap: break-word;
  word-wrap: break-word;
  text-align: center;
  font-weight: 500;
}
.posts-expand .post-title-link {
  display: inline-block;
  position: relative;
  color: #555;
  border-bottom: none;
  line-height: 1.2;
  vertical-align: top;
}
.posts-expand .post-title-link::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 2px;
  bottom: 0;
  left: 0;
  background-color: #000;
  visibility: hidden;
  -webkit-transform: scaleX(0);
  -moz-transform: scaleX(0);
  -ms-transform: scaleX(0);
  -o-transform: scaleX(0);
  transform: scaleX(0);
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.posts-expand .post-title-link:hover::before {
  visibility: visible;
  -webkit-transform: scaleX(1);
  -moz-transform: scaleX(1);
  -ms-transform: scaleX(1);
  -o-transform: scaleX(1);
  transform: scaleX(1);
}
.posts-expand .post-title-link .fa {
  font-size: 16px;
}
.posts-expand .post-meta {
  margin: 3px 0 60px 0;
  color: #999;
  font-family: 'Lato', "PingFang SC", "Microsoft YaHei", sans-serif;
  font-size: 12px;
  text-align: center;
}
.posts-expand .post-meta .post-category-list {
  display: inline-block;
  margin: 0;
  padding: 3px;
}
.posts-expand .post-meta .post-category-list-link {
  color: #999;
}
.posts-expand .post-meta .post-description {
  font-size: 14px;
  margin-top: 2px;
}
.posts-expand .post-meta time {
  border-bottom: 1px dashed #999;
  cursor: help;
}
.post-meta-divider {
  margin: 0 0.5em;
}
.post-meta-item-icon {
  margin-right: 3px;
}
@media (min-width: 768px) and (max-width: 991px) {
  .post-meta-item-icon {
    display: inline-block;
  }
}
@media (max-width: 767px) {
  .post-meta-item-icon {
    display: inline-block;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .post-meta-item-text {
    display: none;
  }
}
@media (max-width: 767px) {
  .post-meta-item-text {
    display: none;
  }
}
.post-button {
  margin-top: 40px;
}
.posts-expand .post-tags {
  margin-top: 40px;
  text-align: center;
}
.posts-expand .post-tags a {
  display: inline-block;
  margin-right: 10px;
  font-size: 13px;
}
.post-nav {
  display: table;
  margin-top: 15px;
  width: 100%;
  border-top: 1px solid #eee;
}
.post-nav-divider {
  display: table-cell;
  width: 10%;
}
.post-nav-item {
  display: table-cell;
  padding: 10px 0 0 0;
  width: 45%;
  vertical-align: top;
}
.post-nav-item a {
  position: relative;
  display: block;
  line-height: 25px;
  font-size: 14px;
  color: #555;
  border-bottom: none;
}
.post-nav-item a:hover {
  color: #222;
  border-bottom: none;
}
.post-nav-item a:active {
  top: 2px;
}
.post-nav-item .fa {
  position: absolute;
  top: 8px;
  left: 0;
  font-size: 12px;
}
.post-nav-next a {
  padding-left: 15px;
}
.post-nav-prev {
  text-align: right;
}
.post-nav-prev a {
  padding-right: 15px;
}
.post-nav-prev .fa {
  right: 0;
  left: auto;
}
.posts-expand .post-eof {
  display: block;
  margin: 80px auto 60px;
  width: 8%;
  height: 1px;
  background: #ccc;
  text-align: center;
}
.post:last-child .post-eof.post-eof.post-eof {
  display: none;
}
.post-gallery {
  display: table;
  table-layout: fixed;
  width: 100%;
  border-collapse: separate;
}
.post-gallery-row {
  display: table-row;
}
.post-gallery .post-gallery-img {
  display: table-cell;
  text-align: center;
  vertical-align: middle;
  border: none;
}
.post-gallery .post-gallery-img img {
  max-width: 100%;
  max-height: 100%;
  border: none;
}
.fancybox-close,
.fancybox-close:hover {
  border: none;
}
#rewardButton {
  cursor: pointer;
  border: 0;
  outline: 0;
  border-radius: 5px;
  padding: 0;
  margin: 0;
  letter-spacing: normal;
  text-transform: none;
  text-indent: 0px;
  text-shadow: none;
}
#rewardButton span {
  display: inline-block;
  width: 80px;
  height: 35px;
  border-radius: 5px;
  color: #fff;
  font-weight: 400;
  font-style: normal;
  font-variant: normal;
  font-stretch: normal;
  font-size: 18px;
  font-family: "Microsoft Yahei";
  background: #f44336;
}
#rewardButton span:hover {
  background: #f7877f;
}
#QR {
  padding-top: 20px;
}
#QR a {
  border: 0;
}
#QR img {
  width: 180px;
  max-width: 100%;
  display: inline-block;
  margin: 0.8em 2em 0 2em;
}
#QR > div:hover p {
  animation: roll 0.1s infinite linear;
  -webkit-animation: roll 0.1s infinite linear;
  -moz-animation: roll 0.1s infinite linear;
}
@-moz-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@-webkit-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@-o-keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
@keyframes roll {
  from {
    -webkit-transform: rotateZ(30deg);
    -moz-transform: rotateZ(30deg);
    -ms-transform: rotateZ(30deg);
    -o-transform: rotateZ(30deg);
    transform: rotateZ(30deg);
  }
  to {
    -webkit-transform: rotateZ(-30deg);
    -moz-transform: rotateZ(-30deg);
    -ms-transform: rotateZ(-30deg);
    -o-transform: rotateZ(-30deg);
    transform: rotateZ(-30deg);
  }
}
.rtl.post-body p,
.rtl.post-body a,
.rtl.post-body h1,
.rtl.post-body h2,
.rtl.post-body h3,
.rtl.post-body h4,
.rtl.post-body h5,
.rtl.post-body h6,
.rtl.post-body li,
.rtl.post-body ul,
.rtl.post-body ol {
  direction: rtl;
  font-family: UKIJ Ekran;
}
.rtl.post-title {
  font-family: UKIJ Ekran;
}
.sidebar {
  position: fixed;
  right: 0;
  top: 0;
  bottom: 0;
  width: 0;
  z-index: 1040;
  box-shadow: inset 0 2px 6px #000;
  background: #222;
  -webkit-transform: translateZ(0);
}
.sidebar a,
.sidebar .exturl {
  color: #999;
  border-bottom-color: #555;
}
.sidebar a:hover,
.sidebar .exturl:hover {
  color: #eee;
}
.sidebar-inner {
  position: relative;
  padding: 20px 10px;
  color: #999;
  text-align: center;
}
.site-overview-wrap {
  overflow: hidden;
}
.site-overview {
  overflow-y: auto;
  overflow-x: hidden;
}
.sidebar-toggle {
  position: fixed;
  right: 30px;
  bottom: 45px;
  width: 14px;
  height: 14px;
  padding: 5px;
  background: #222;
  line-height: 0;
  z-index: 1050;
  cursor: pointer;
  -webkit-transform: translateZ(0);
}
@media (min-width: 768px) and (max-width: 991px) {
  .sidebar-toggle {
    right: 20px;
    opacity: 0.8;
  }
}
@media (max-width: 767px) {
  .sidebar-toggle {
    right: 20px;
    opacity: 0.8;
  }
}
.sidebar-toggle-line {
  position: relative;
  display: inline-block;
  vertical-align: top;
  height: 2px;
  width: 100%;
  background: #fff;
  margin-top: 3px;
}
.sidebar-toggle-line:first-child {
  margin-top: 0;
}
.site-author-image {
  display: block;
  margin: 0 auto;
  padding: 2px;
  max-width: 96px;
  height: auto;
  border: 2px solid #333;
  opacity: 1;
}
.site-author-image {
  border-radius: 100%;
}
.site-author-image {
  -webkit-transition: -webkit-transform 1s ease-out;
  -moz-transition: -moz-transform 1s ease-out;
  -ms-transition: -ms-transform 1s ease-out;
  transition: transform 1s ease-out;
}
.site-author-image:hover {
  -webkit-transform: rotateZ(360deg);
  -moz-transform: rotateZ(360deg);
  -ms-transform: rotate(360deg);
  -webkit-transform: rotateZ(360deg);
  -moz-transform: rotateZ(360deg);
  -ms-transform: rotateZ(360deg);
  -o-transform: rotateZ(360deg);
  transform: rotateZ(360deg);
}
.site-author-name {
  margin: 5px 0 0;
  text-align: center;
  color: #f5f5f5;
  font-weight: normal;
}
.site-description {
  margin-top: 5px;
  text-align: center;
  font-size: 14px;
  color: #999;
}
.site-state {
  overflow: hidden;
  line-height: 1.4;
  white-space: nowrap;
  text-align: center;
}
.site-state-item {
  display: inline-block;
  padding: 0 15px;
  border-left: 1px solid #333;
}
.site-state-item:first-child {
  border-left: none;
}
.site-state-item a {
  border-bottom: none;
}
.site-state-item-count {
  display: block;
  text-align: center;
  color: inherit;
  font-weight: 600;
  font-size: 18px;
}
.site-state-item-name {
  font-size: 13px;
  color: inherit;
}
.feed-link {
  margin-top: 20px;
}
.feed-link a {
  display: inline-block;
  padding: 0 15px;
  color: #fc6423;
  border: 1px solid #fc6423;
  border-radius: 4px;
}
.feed-link a i {
  color: #fc6423;
  font-size: 14px;
}
.feed-link a:hover {
  color: #fff;
  background: #fc6423;
}
.feed-link a:hover i {
  color: #fff;
}
.links-of-author {
  margin-top: 20px;
}
.links-of-author a,
.links-of-author .exturl {
  display: inline-block;
  vertical-align: middle;
  margin-right: 10px;
  margin-bottom: 10px;
  border-bottom-color: #555;
  font-size: 13px;
}
.links-of-author a:before,
.links-of-author .exturl:before {
  display: inline-block;
  vertical-align: middle;
  margin-right: 3px;
  content: " ";
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: #db4ffa;
}
.links-of-blogroll {
  font-size: 13px;
}
.links-of-blogroll-title {
  margin-top: 20px;
  font-size: 14px;
  font-weight: 600;
}
.links-of-blogroll-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.links-of-blogroll-item {
  padding: 2px 10px;
}
.links-of-blogroll-item a {
  max-width: 280px;
  box-sizing: border-box;
  display: inline-block;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.sidebar-nav {
  margin: 0 0 20px;
  padding-left: 0;
}
.sidebar-nav li {
  display: inline-block;
  cursor: pointer;
  border-bottom: 1px solid transparent;
  font-size: 14px;
  color: #555;
}
.sidebar-nav li:hover {
  color: #f5f5f5;
}
.page-post-detail .sidebar-nav-toc {
  padding: 0 5px;
}
.page-post-detail .sidebar-nav-overview {
  margin-left: 10px;
}
.sidebar-nav .sidebar-nav-active {
  color: #87daff;
  border-bottom-color: #87daff;
}
.sidebar-nav .sidebar-nav-active:hover {
  color: #87daff;
}
.sidebar-panel {
  display: none;
}
.sidebar-panel-active {
  display: block;
}
.post-toc-empty {
  font-size: 14px;
  color: #666;
}
.post-toc-wrap {
  overflow: hidden;
}
.post-toc {
  overflow: auto;
}
.post-toc ol {
  margin: 0;
  padding: 0 2px 5px 10px;
  text-align: left;
  list-style: none;
  font-size: 14px;
}
.post-toc ol > ol {
  padding-left: 0;
}
.post-toc ol a {
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
  transition-property: all;
  color: #999;
  border-bottom-color: #555;
}
.post-toc ol a:hover {
  color: #ccc;
  border-bottom-color: #ccc;
}
.post-toc .nav-item {
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.8;
}
.post-toc .nav .nav-child {
  display: none;
}
.post-toc .nav .active > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child {
  display: block;
}
.post-toc .nav .active-current > .nav-child > .nav-item {
  display: block;
}
.post-toc .nav .active > a {
  color: #87daff;
  border-bottom-color: #87daff;
}
.post-toc .nav .active-current > a {
  color: #87daff;
}
.post-toc .nav .active-current > a:hover {
  color: #87daff;
}
.sidebar-active #sidebar-dimmer {
  opacity: 0.7;
  -webkit-transform: translateX(-150%);
  -webkit-transform: translateX(-150%);
  -moz-transform: translateX(-150%);
  -ms-transform: translateX(-150%);
  -o-transform: translateX(-150%);
  transform: translateX(-150%);
  transition: opacity 0.2s;
}
#sidebar-dimmer {
  display: none;
  position: absolute;
  top: 0;
  left: 100%;
  width: 200%;
  height: 100%;
  background: #000;
  opacity: 0;
  transition: opacity 0.2s, transform 0s 0.2s;
}
@media (max-width: 767px) {
  #sidebar-dimmer {
    display: block;
  }
}
.footer {
  font-size: 14px;
  color: #999;
}
.footer img {
  border: none;
}
.footer-inner {
  text-align: center;
}
.with-love {
  display: inline-block;
  margin: 0 5px;
  color: #808080;
}
.powered-by,
.theme-info {
  display: inline-block;
}
.cc-license {
  margin-top: 10px;
  text-align: center;
}
.cc-license .cc-opacity {
  opacity: 0.7;
  border-bottom: none;
}
.cc-license .cc-opacity:hover {
  opacity: 0.9;
}
.cc-license img {
  display: inline-block;
}
@-moz-keyframes iconAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-webkit-keyframes iconAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-o-keyframes iconAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@keyframes iconAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
.fa {
  font-family: FontAwesome !important;
}
.local-search-pop-overlay {
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 2080;
  background-color: rgba(0,0,0,0.3);
}
.local-search-popup {
  display: none;
  position: fixed;
  top: 10%;
  left: 50%;
  margin-left: -350px;
  width: 700px;
  height: 80%;
  padding: 0;
  background: #fff;
  color: #333;
  z-index: 9999;
  border-radius: 5px;
}
@media (max-width: 767px) {
  .local-search-popup {
    padding: 0;
    top: 0;
    left: 0;
    margin: 0;
    width: 100%;
    height: 100%;
    border-radius: 0;
  }
}
.local-search-popup ul.search-result-list {
  padding: 0;
  margin: 0 5px;
}
.local-search-popup p.search-result {
  border-bottom: 1px dashed #ccc;
  padding: 5px 0;
}
.local-search-popup a.search-result-title {
  font-weight: bold;
  font-size: 16px;
}
.local-search-popup .search-keyword {
  border-bottom: 1px dashed #f00;
  font-weight: bold;
  color: #f00;
}
.local-search-popup .local-search-header {
  padding: 5px;
  height: 36px;
  background: #f5f5f5;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}
.local-search-popup #local-search-result {
  overflow: auto;
  position: relative;
  padding: 5px 25px;
  height: calc(100% - 55px);
}
.local-search-popup .local-search-input-wrapper {
  display: inline-block;
  width: calc(100% - 90px);
  height: 36px;
  line-height: 36px;
  padding: 0 5px;
}
.local-search-popup .local-search-input-wrapper input {
  padding: 8px 0;
  height: 20px;
  display: block;
  width: 100%;
  outline: none;
  border: none;
  background: transparent;
  vertical-align: middle;
}
.local-search-popup .search-icon,
.local-search-popup .popup-btn-close {
  display: inline-block;
  font-size: 18px;
  color: #999;
  height: 36px;
  width: 18px;
  padding-left: 10px;
  padding-right: 10px;
}
.local-search-popup .search-icon {
  float: left;
}
.local-search-popup .popup-btn-close {
  border-left: 1px solid #eee;
  float: right;
  cursor: pointer;
}
.local-search-popup #no-result {
  position: absolute;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  color: #ccc;
}
.site-uv,
.site-pv,
.page-pv {
  display: inline-block;
}
.site-uv .busuanzi-value,
.site-pv .busuanzi-value,
.page-pv .busuanzi-value {
  margin: 0 5px;
}
.page-archive .archive-page-counter {
  position: relative;
  top: 3px;
  left: 20px;
}
@media (max-width: 767px) {
  .page-archive .archive-page-counter {
    top: 5px;
  }
}
.page-archive .posts-collapse .archive-move-on {
  position: absolute;
  top: 11px;
  left: 0;
  margin-left: -6px;
  width: 10px;
  height: 10px;
  opacity: 0.5;
  background: #555;
  border: 1px solid #fff;
  border-radius: 50%;
}
.category-all-page .category-all-title {
  text-align: center;
}
.category-all-page .category-all {
  margin-top: 20px;
}
.category-all-page .category-list {
  margin: 0;
  padding: 0;
  list-style: none;
}
.category-all-page .category-list-item {
  margin: 5px 10px;
}
.category-all-page .category-list-count {
  color: #bbb;
}
.category-all-page .category-list-count:before {
  display: inline;
  content: " (";
}
.category-all-page .category-list-count:after {
  display: inline;
  content: ") ";
}
.category-all-page .category-list-child {
  padding-left: 10px;
}
#schedule ul#event-list {
  padding-left: 30px;
}
#schedule ul#event-list hr {
  margin: 20px 0 45px 0 !important;
  background: #222;
}
#schedule ul#event-list hr:after {
  display: inline-block;
  content: 'NOW';
  background: #222;
  color: #fff;
  font-weight: bold;
  text-align: right;
  padding: 0 5px;
}
#schedule ul#event-list li.event {
  margin: 20px 0px;
  background: #f9f9f9;
  padding-left: 10px;
  min-height: 40px;
}
#schedule ul#event-list li.event h2.event-summary {
  margin: 0;
  padding-bottom: 3px;
}
#schedule ul#event-list li.event h2.event-summary:before {
  display: inline-block;
  font-family: FontAwesome;
  font-size: 8px;
  content: '\f111';
  vertical-align: middle;
  margin-right: 25px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-relative-time {
  display: inline-block;
  font-size: 12px;
  font-weight: 400;
  padding-left: 12px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-details {
  display: block;
  color: #bbb;
  margin-left: 56px;
  padding-top: 3px;
  padding-bottom: 6px;
  text-indent: -24px;
  line-height: 18px;
}
#schedule ul#event-list li.event span.event-details:before {
  text-indent: 0;
  display: inline-block;
  width: 14px;
  font-family: FontAwesome;
  text-align: center;
  margin-right: 9px;
  color: #bbb;
}
#schedule ul#event-list li.event span.event-details.event-location:before {
  content: '\f041';
}
#schedule ul#event-list li.event span.event-details.event-duration:before {
  content: '\f017';
}
#schedule ul#event-list li.event-past {
  background: #fcfcfc;
}
#schedule ul#event-list li.event-past > * {
  opacity: 0.6;
}
#schedule ul#event-list li.event-past h2.event-summary {
  color: #bbb;
}
#schedule ul#event-list li.event-past h2.event-summary:before {
  color: #dfdfdf;
}
#schedule ul#event-list li.event-now {
  background: #222;
  color: #fff;
  padding: 15px 0 15px 10px;
}
#schedule ul#event-list li.event-now h2.event-summary:before {
  -webkit-transform: scale(1.2);
  -moz-transform: scale(1.2);
  -ms-transform: scale(1.2);
  -o-transform: scale(1.2);
  transform: scale(1.2);
  color: #fff;
  animation: dot-flash 1s alternate infinite ease-in-out;
}
#schedule ul#event-list li.event-now * {
  color: #fff !important;
}
@-moz-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@-webkit-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@-o-keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
@keyframes dot-flash {
  from {
    opacity: 1;
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  to {
    opacity: 0;
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
}
.page-post-detail .sidebar-toggle-line {
  background: #87daff;
}
.page-post-detail .comments {
  overflow: hidden;
}
ul.breadcrumb {
  list-style: none;
  margin: 1em 0;
  padding: 0 2em;
  text-align: center;
  font-size: 14px;
}
ul.breadcrumb li {
  display: inline;
}
ul.breadcrumb li+li:before {
  padding: 0.5em;
  font-weight: normal;
  content: "/\00a0";
}
ul.breadcrumb li+li:last-child {
  font-weight: bold;
}
@media (max-width: 767px) {
  .header-inner,
  .container .main-inner,
  .footer-inner {
    width: auto;
  }
}
embed {
  display: block;
  margin: 0px auto 25px auto;
}
.custom-logo .site-meta-headline {
  text-align: center;
}
.custom-logo .brand {
  background: none;
}
.custom-logo .site-title {
  margin: 10px auto 0;
  font-size: 24px;
  color: #222;
}
.custom-logo .site-title a {
  border: none;
}
.custom-logo-image {
  margin: 0 auto;
  padding: 5px;
  max-width: 150px;
  background: #fff;
}
@media (max-width: 767px) {
  .site-nav {
    position: absolute;
    left: 0;
    top: 52px;
    margin: 0;
    width: 100%;
    padding: 0;
    background: #fff;
    border-bottom: 1px solid #ddd;
    z-index: 1030;
  }
}
@media (max-width: 767px) {
  .menu {
    text-align: left;
  }
}
@media (max-width: 767px) {
  .menu .menu-item {
    display: block;
    margin: 0 10px;
    vertical-align: top;
  }
}
.menu .menu-item .badge {
  display: inline-block;
  padding: 1px 4px;
  margin-left: 5px;
  font-weight: 700;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  background-color: #eee;
}
@media (max-width: 767px) {
  .menu .menu-item .badge {
    float: right;
    margin: 0.35em 0 0 0;
  }
}
@media (max-width: 767px) {
  .menu .menu-item br {
    display: none;
  }
}
@media (max-width: 767px) {
  .menu .menu-item a {
    padding: 5px 10px;
    border-bottom-color: #fff !important;
  }
}
.menu .menu-item .fa {
  margin-right: 0;
}
.menu-item-active a {
  border-bottom-color: #222 !important;
  color: #222;
}
@media (max-width: 767px) {
  .menu-item-active a {
    border-bottom-color: #fff !important;
  }
}
.site-search form {
  display: none;
}
.links-of-blogroll-inline .links-of-blogroll-item {
  display: inline-block;
}
.headband {
  height: 1.5px;
  background-image: url("/images/back.png");
}
.header {
  line-height: 1.5;
}
.container {
  background-color: rgba(0,0,0,0.2);
}
.header-inner {
  padding-top: 0px;
  padding-bottom: 0px;
}
body {
  background-image: url("https://desk-fd.zol-img.com.cn/t_s2880x1800c5/g5/M00/03/04/ChMkJ1w--ZuISyrCAC4Ursaf_OsAAubOgE_vPMALhTG037.jpg");
  background-attachment: fixed;
  background-repeat: no-repeat;
  background-size: 100% 100%;
}
.posts-expand {
  padding-top: 80px;
  margin-left: -50px;
  width: 1000px;
  border-radius: 10px;
}
.posts-expand .post-meta {
  margin: 5px 0px 0px 0px;
}
.post-button {
  margin-top: 0px;
}
.container .header-inner {
  width: 100%;
}
.site-meta {
  background-image: url("/images/back.png");
}
.brand {
  background-color: rgba(255,255,255,0);
  margin-top: 15px;
  padding: 0px;
}
.site-title {
  font-size: 75px;
  font-weight: bold;
  color: #00bfff;
  line-height: 80px;
  letter-spacing: 3px;
}
.site-subtitle {
  margin: 0px;
  font-size: 16px;
  letter-spacing: 1px;
  padding-bottom: 3px;
  font-weight: bold;
  color: #00ff7f;
  border-bottom-width: 5px;
  border-bottom-style: solid;
  border-bottom-color: #32cd32;
  border-radius: 100px;
}
.menu {
  text-align: center;
  margin-top: 0px;
  margin-bottom: 0px;
  padding: 5px;
  border-radius: 10px;
  background-color: rgba(255,255,240,0.55);
  box-shadow: 0px 10px 10px 0px rgba(0,0,0,0.15);
}
.menu .menu-item a {
  font-size: 15px;
}
.menu .menu-item {
  margin: 5px 15px;
}
.menu .menu-item a:hover {
  border-bottom-color: rgba(161,102,171,0);
}
.post {
  margin-bottom: 50px;
  padding: 45px 36px 36px 36px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: #fff;
  border-radius: 40px;
  font-weight: 520;
}
.posts-expand .post-title {
  font-size: 26px;
  font-weight: 700;
}
.posts-expand .post-title-link::before {
  background-image: linear-gradient(90deg, #a166ab 0%, #ef4e7b 25%, #f37055 50%, #ef4e7b 75%, #a166ab 100%);
}
.posts-expand .post-meta {
  margin: 10px 0px 20px 0px;
}
.posts-expand .post-meta .post-description {
  font-style: italic;
  font-size: 14px;
  margin-top: 30px;
  margin-bottom: 0px;
  color: #666;
}
.post-button .btn {
  color: #555 !important;
  background-color: #fff;
  border-radius: 3px;
  font-size: 15px;
  box-shadow: inset 0px 0px 10px 0px rgba(0,0,0,0.35);
  border: none !important;
  transition-property: unset;
  padding: 0px 15px;
}
.post-button .btn:hover {
  color: #fff !important;
  border-radius: 3px;
  font-size: 15px;
  box-shadow: inset 0px 0px 10px 0px rgba(0,0,0,0.35);
  background-image: linear-gradient(90deg, #a166ab 0%, #ef4e7b 25%, #f37055 50%, #ef4e7b 75%, #a166ab 100%);
}
.posts-expand .post-eof {
  margin: 0px;
  background-color: rgba(255,255,255,0);
}
.pagination {
  border: none;
  margin: 0px;
}
.pagination .page-number.current {
  border-radius: 100%;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: rgba(255,255,255,0.35);
}
.pagination .prev,
.pagination .next,
.pagination .page-number {
  margin-bottom: 10px;
  border: none;
}
.pagination .space {
  color: #fff;
}
.footer {
  line-height: 1.5;
  background-color: rgba(255,255,255,0.75);
  color: #333;
  bottom: -32px;
  border-top-width: 3px;
  border-top-style: solid;
  border-top-color: #a166ab;
  box-shadow: 0px -10px 10px 0px rgba(0,0,0,0.15);
}
.posts-expand .post-tags a {
  border-bottom: none;
  margin-right: 0px;
  font-size: 13px;
  padding: 0px 5px;
  border-radius: 3px;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.posts-expand .post-tags a:hover {
  background: #eee;
}
.post-widgets {
  padding-top: 0px;
}
.post-nav {
  margin-top: 30px;
}
.post-nav-item a {
  color: #5073b8;
  font-weight: bold;
}
.post-nav-item a:hover {
  color: #a166ab;
  font-weight: bold;
}
.comments {
  background-color: #fff;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.35);
  margin: 80px 0px 40px 0px;
}
a {
  color: #8a2be2;
  border-bottom-color: #5073b8;
}
a:hover {
  color: #a166ab;
  border-bottom-color: #a166ab;
}
hr {
  margin: 10px 0px 30px 0px;
}
.post-body h2,
h3,
h4,
h5,
h6 {
  border-left: 4px solid #a166ab;
  margin-left: -36px;
  padding-left: 32px;
}
.posts-expand .post-body img {
  border: none;
  padding: 0px;
}
.post-gallery .post-gallery-img img {
  padding: 3px;
}
.highlight figcaption {
  margin: 0em;
  padding: 0.5em;
  background: #36bf36;
  border-bottom: 1px solid #36bf36;
}
.highlight figcaption a {
  color: #b40501;
}
.highlight .code pre {
  padding-left: 10px;
  color: #68dd00;
}
.highlight,
pre {
  margin: 5px 5px;
  padding: 5px;
  border-radius: 5px;
  overflow: auto;
  font-size: 17px;
}
pre .addition {
  background: #e6ffed;
}
pre .deletion {
  background: #e6ffed;
}
.sidebar-toggle {
  right: 64px;
  bottom: 125px;
  width: 36px;
  height: 20px;
  background-color: rgba(138,43,226,0.8);
  border-radius: 8px;
  box-shadow: 0px 0px 40px 0px rgba(247,149,51,0.35);
}
.page-post-detail .sidebar-toggle-line {
  background: #0e0;
}
.sidebar-toggle-line {
  height: 3.5px;
  background: #00ff7f;
  vertical-align: 0;
  margin-top: 0;
}
.back-to-top {
  line-height: 1.5;
  right: 60px;
  padding-right: 10px;
  padding-left: 10px;
  padding-top: 5px;
  padding-bottom: 5px;
  background-color: rgba(247,149,51,0.75);
  border-radius: 5px;
  box-shadow: 0px 0px 40px 0px rgba(0,0,0,0.35);
}
.back-to-top.back-to-top-on {
  bottom: 85px;
}
.sidebar {
  box-shadow: inset 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: rgba(0,0,0,0.75);
}
.sidebar-inner {
  margin-top: 30px;
}
.sidebar-nav li {
  font-size: 15px;
  font-weight: bold;
  color: #07b39b;
}
.sidebar-nav li:hover {
  color: #a166ab;
}
.sidebar-nav .sidebar-nav-active {
  color: #07b39b;
  border-bottom-color: #a166ab;
  border-bottom-width: 1.5px;
}
.sidebar-nav .sidebar-nav-active:hover {
  color: #07b39b;
}
.site-overview {
  line-height: 1.3;
}
.site-author-image {
  border: 2px solid #fff;
  border-radius: 100%;
  transition: transform 1s ease-out;
}
img:hover {
  -webkit-transform: rotateZ(360deg);
  -moz-transform: rotateZ(360deg);
  -ms-transform: rotateZ(360deg);
  -o-transform: rotateZ(360deg);
  transform: rotateZ(360deg);
}
.posts-expand .post-body img:hover {
  -webkit-transform: initial;
  -moz-transform: initial;
  -ms-transform: initial;
  -o-transform: initial;
  transform: initial;
}
.site-author-name {
  display: none;
}
.site-description {
  letter-spacing: 5px;
  font-size: 15px;
  font-weight: bold;
  margin-top: 15px;
  margin-left: 13px;
  color: #f37055;
}
.site-state {
  line-height: 1.3;
  margin-left: 12px;
}
.site-state-item {
  padding: 0px 15px;
  border-left: 1.5px solid #a166ab;
}
.feed-link {
  margin-top: 15px;
  margin-left: 7px;
}
.feed-link a {
  color: #fff;
  border: 1px solid #9e9e9e !important;
  border-radius: 15px;
}
.feed-link a:hover {
  background-color: #a166ab;
}
.feed-link a i {
  color: #fff;
}
.links-of-author {
  margin-top: 20px;
}
.links-of-blogroll-title {
  margin-bottom: 10px;
  margin-top: 15px;
  color: rgba(7,179,155,0.75);
  margin-left: 6px;
  font-size: 15px;
  font-weight: bold;
}
.sidebar a {
  color: #00bfff;
  border-bottom: none;
}
.sidebar a:hover {
  color: #fff;
}
#days {
  display: block;
  color: #07b39b;
  font-size: 13px;
  margin-top: 15px;
}
.post-toc ol a {
  color: #07b39b;
  border-bottom: 1px solid #607d8b;
}
.post-toc ol a:hover {
  color: #a166ab;
  border-bottom-color: #a166ab;
}
.post-toc .nav .active > a {
  color: #a166ab;
  border-bottom-color: #a166ab;
}
.post-toc .nav .active > a:hover {
  color: #a166ab;
  border-bottom-color: #a166ab;
}
.post-toc ol {
  padding: 0px 10px 5px 10px;
}
.posts-collapse {
  margin: 50px 0px;
}
@media (max-width: 1023px) {
  .posts-collapse {
    margin: 50px 20px;
  }
}
.posts-collapse::after {
  margin-left: -2px;
  background-image: linear-gradient(180deg, #f79533 0, #f37055 15%, #ef4e7b 30%, #a166ab 44%, #5073b8 58%, #1098ad 72%, #07b39b 86%, #6dba82 100%);
}
.posts-collapse .collection-title::before {
  background-color: #fff;
}
.posts-collapse .post-header:hover::before {
  background-color: #a166ab;
}
.posts-collapse .collection-title h1,
.posts-collapse .collection-title h2 {
  color: #fff;
}
.posts-collapse .post-title a {
  color: #5073b8;
}
.posts-collapse .post-title a:hover {
  color: #a166ab;
}
.posts-collapse .post-header:hover {
  border-bottom-color: #a166ab;
}
.page-archive .archive-page-counter {
  color: #fff;
}
.page-archive .posts-collapse .archive-move-on {
  top: 10px;
  opacity: 1;
  background-color: #fff;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
}
.post-block.page {
  margin-top: 40px;
}
.category-all-page {
  margin: -80px 50px 40px 50px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: #fff;
  padding: 86px 36px 36px 36px;
}
@media (max-width: 767px) {
  .category-all-page {
    margin: -73px 15px 50px 15px;
  }
  .category-all-page .category-all-title {
    margin-top: -5px;
  }
}
.tag-cloud {
  margin: -80px 50px 40px 50px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: #fff;
  padding: 86px 36px 36px 36px;
}
.tag-cloud-title {
  margin-bottom: 15px;
}
@media (max-width: 767px) {
  .tag-cloud {
    margin: -73px 15px 50px 15px;
    padding: 86px 5px 36px 5px;
  }
}
#top {
  display: block;
  text-align: center;
  margin: -100px 50px 40px 50px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: #fff;
  padding: 106px 36px 10px 36px;
}
@media (max-width: 767px) {
  #top {
    margin: -93px 15px 50px 15px;
    padding: 96px 10px 0px 10px;
  }
}
.about-page {
  margin: -80px 0px 60px 0px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
  background-color: #fff;
  padding: 106px 36px 36px 36px;
}
@media (max-width: 767px) {
  .about-page {
    margin: -73px 0px 50px 0px;
    padding: 96px 15px 20px 15px;
  }
}
h2.about-title {
  border-left: none !important;
  margin-left: 0px !important;
  padding-left: 0px !important;
  text-align: center;
  background-image: linear-gradient(90deg, #a166ab 0%, #a166ab 40%, #ef4e7b 45%, #f37055 50%, #ef4e7b 55%, #a166ab 60%, #a166ab 100%);
  background-size: cover;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  user-select: none;
}
.local-search-popup .search-icon,
.local-search-popup .popup-btn-close {
  color: #f79533;
  margin-top: 7px;
}
.local-search-popup .local-search-input-wrapper input {
  padding: 9px 0px;
  height: 21px;
  background-color: #fff;
}
.local-search-popup .popup-btn-close {
  border-left: none;
}
::selection {
  background-color: #fff159;
  color: #555;
}
::-webkit-scrollbar {
  width: 8px;
  height: 15px;
}
::-webkit-scrollbar-track {
  background: #3d3d3d;
}
::-webkit-scrollbar-thumb {
  border-radius: 5px;
  background-color: #458b00;
}
::-webkit-scrollbar-thumb:hover {
  background-color: #f7f933;
}
.aplayer {
  font-family: Lato, -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", "Heiti SC", STHeiti, "Source Han Sans SC", "Noto Sans CJK SC", "WenQuanYi Micro Hei", "Droid Sans Fallback", "Microsoft YaHei", sans-serif !important;
}
.aplayer-withlrc.aplayer .aplayer-info {
  background-color: #fff;
}
.aplayer .aplayer-list ol {
  background-color: #fff;
}
img#github-emoji {
  margin: 0px;
  padding: 0px;
  display: inline !important;
  vertical-align: text-bottom;
  border: none;
  cursor: text;
  box-shadow: none;
}
.post-body a {
  color: #5073b8;
  border-bottom: none;
  text-decoration: underline;
}
.post-body a:hover {
  color: #a166ab;
  border-bottom: none;
  text-decoration: underline;
}
.tag-cloud a {
  border-bottom: 1px solid #5073b8;
  text-decoration: none;
}
.tag-cloud a:hover {
  border-bottom: 1px solid #a166ab;
  text-decoration: none;
}
a.categories {
  color: #5073b8;
  border-bottom: none;
  text-decoration: underline;
}
a.categories:hover {
  color: #a166ab;
  border-bottom: none;
  text-decoration: underline;
}
.post-body .tabs ul.nav-tabs li.tab a {
  text-decoration: none;
}
a.fancybox {
  text-decoration: none !important;
}
.btn {
  color: #fff !important;
  text-decoration: none !important;
  border: 2px solid #222 !important;
}
.btn:hover {
  color: #222 !important;
}
.weixin-box {
  position: absolute;
  bottom: 43px;
  left: 350px;
  border-radius: 5px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.35);
}
.weixin-menu {
  position: absolute;
  bottom: 43px;
  height: 48px;
  width: 48px;
  cursor: pointer;
  background: url("https://yixiuer.oss-cn-shanghai.aliyuncs.com/images/wechat.svg");
  background-size: 48px 48px;
}
.weixin-hover {
  position: absolute;
  bottom: 0px;
  left: 0px;
  height: 0px;
  width: 0px;
  border-radius: 3px;
  box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.35);
  background: url("/images/1539314500.svg");
  background-color: #fff;
  background-repeat: no-repeat;
  background-size: 150px 150px;
  transition: all 0.35s ease-in-out;
  z-index: 1024;
  opacity: 0;
}
.weixin-menu:hover .weixin-hover {
  bottom: 24px;
  left: 24px;
  height: 170px;
  width: 150px;
  opacity: 1;
}
.weixin-description {
  opacity: 0;
  position: absolute;
  bottom: 3%;
  left: 5%;
  right: 5%;
  font-size: 12px;
  transition: all 0.35s cubic-bezier(1, 0, 0, 1);
}
.weixin-menu:hover .weixin-description {
  opacity: 1;
}
#heart {
  animation: heartAnimate 1.33s ease-in-out infinite;
}
.with-love {
  color: #ff71a8;
}
h2.love {
  border-left: none;
  color: #ff71a8;
  -webkit-text-fill-color: unset;
}
blockquote.question {
  color: #555;
  border-left: 4px solid #1098ad;
  background-color: #e3f2fd;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
  margin-bottom: 20px;
}
span#inline-toc {
  display: inline-block;
  border-radius: 80% 100% 90% 20%;
  background-color: #e3f2fd;
  color: #555;
  padding: 0.05em 0.4em;
  margin: 2px 5px 2px 0px;
  line-height: 1.5;
}
img.img-topic {
  width: 100%;
}
.post-sticky-flag {
  font-size: inherit;
  float: left;
  color: #000;
  cursor: help;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
  transition-delay: 0s;
}
.post-sticky-flag:hover {
  color: #07b39b;
}
p.description {
  text-align: center;
  font-size: 14px;
  font-style: italic;
  color: #666;
  margin-top: 30px;
}
code.description {
  padding: 1px 1px 1px 1px;
  margin: 0px 1px 0px 4px;
}
@media (max-width: 1023px) {
  .container {
    background-color: rgba(0,0,0,0);
  }
  .sidebar {
    box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);
    border-top-left-radius: 5px;
    border-bottom-left-radius: 5px;
  }
  .feed-link {
    display: none !important;
  }
}
@media (max-width: 767px) {
  .main {
    padding-bottom: 120px;
  }
  .posts-expand {
    margin: 0px;
    padding-top: 70px;
  }
  .posts-expand .post-title {
    font-size: 22px;
  }
  .posts-expand .post-meta {
    font-size: 10px;
  }
  .post {
    margin-bottom: 30px !important;
    padding: 20px 15px 15px 15px !important;
  }
  .post-body h2,
  h3,
  h4,
  h5,
  h6 {
    margin-left: -15px;
    padding-left: 11px;
  }
  .posts-expand .post-tags {
    margin-top: 10px;
  }
  .post-widgets {
    margin-top: 10px;
  }
  .comments {
    margin: 40px 0px 40px 0px !important;
  }
  .footer {
    box-shadow: 0px -5px 10px 0px rgba(0,0,0,0.5);
  }
}
.sidebar-active #sidebar-dimmer {
  opacity: 0;
}
.site-nav-toggle {
  top: 35px;
  left: 10px;
}
.btn-bar {
  background-color: #fff;
}
@media (max-width: 767px) {
  .menu {
    text-align: center;
    box-shadow: 0px 5px 10px 0px rgba(0,0,0,0.5);
  }
  .site-nav {
    top: initial;
    background-color: rgba(255,255,255,0.75);
    border-top: none;
    border-bottom: none;
    position: relative;
    z-index: 1024;
  }
}
@media (max-width: 767px) {
  .site-title {
    font-size: 70px !important;
    letter-spacing: 0px !important;
  }
  .site-subtitle {
    letter-spacing: 0px !important;
    padding-bottom: 0px !important;
  }
  .site-meta {
    box-shadow: 0px 5px 10px 0px rgba(0,0,0,0.5);
  }
  .menu .menu-item {
    margin: 0px 10px !important;
  }
}
#heart {
  animation: heartAnimate 1.33s ease-in-out infinite;
}
.with-love {
  color: #ff71a8;
}
.highlight {
  position: relative;
}
.btn-copy {
  display: inline-block;
  cursor: pointer;
  background-color: #eee;
  background-image: linear-gradient(#fcfcfc, #eee);
  border: 1px solid #d5d5d5;
  border-radius: 3px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-appearance: none;
  font-size: 13px;
  font-weight: 700;
  line-height: 20px;
  color: #333;
  -webkit-transition: opacity 0.3s ease-in-out;
  -o-transition: opacity 0.3s ease-in-out;
  transition: opacity 0.3s ease-in-out;
  padding: 2px 6px;
  position: absolute;
  right: 5px;
  top: 5px;
  opacity: 0;
}
.btn-copy span {
  margin-left: 5px;
}
.highlight:hover .btn-copy {
  opacity: 1;
}
strong {
  color: #9932cc;
  size: 50px;
  margin: 0em;
  font-size: large;
font-style
}
code {
  color: #00bfff !important;
  background: rgba(78,240,233,0.42);
  font-size: 17px;
}
pre .ruby .class .title,
pre .css .rules .attribute,
pre .string,
pre .value,
pre .inheritance,
pre .header,
pre .ruby .symbol,
pre .xml .cdata,
pre .special,
pre .number,
pre .formula {
  color: #5cacee;
}
@-moz-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-webkit-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-o-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-moz-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-webkit-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@-o-keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}
@keyframes heartAnimate {
  0%, 100% {
    -webkit-transform: scale(1);
    -moz-transform: scale(1);
    -ms-transform: scale(1);
    -o-transform: scale(1);
    transform: scale(1);
  }
  10%, 30% {
    -webkit-transform: scale(0.9);
    -moz-transform: scale(0.9);
    -ms-transform: scale(0.9);
    -o-transform: scale(0.9);
    transform: scale(0.9);
  }
  20%, 40%, 60%, 80% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
  50%, 70% {
    -webkit-transform: scale(1.1);
    -moz-transform: scale(1.1);
    -ms-transform: scale(1.1);
    -o-transform: scale(1.1);
    transform: scale(1.1);
  }
}</style><noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto%20Slab:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic|Roboto%20Slab:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&amp;subset=latin,latin-ext"></noscript></head>



<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://leesen998.github.io" class="github-corner" aria-label="View source on GitHub"><svg width="120" height="120" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 194; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">QJun</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">QJun's Homepage</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://leesen998.github.io/2016/12/01/day32笔记 /">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="QJun">
      <meta itemprop="description" content="Stay Hungry, Stay Foolish!">
      <meta itemprop="image" content="/images/10.jpg">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="QJun">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">java学习笔记——基础30(网络编程)
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2016-12-01 19:48:29" itemprop="dateCreated datePublished" datetime="2016-12-01T19:48:29+08:00">2016-12-01</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/程序设计/" itemprop="url" rel="index"><span itemprop="name">程序设计</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p class="description"></p>

<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1547297959/samples/java%20files/photo-1544833021-2f0c8afb7fd6.jpg" alt="" style="width:100%"></p>
<p>1、网络三要素及传输协议<br>2、实现UDP协议的发送端和接收端<br>3、实现TCP协议的客户端和服务器<br>4、TCP上传文件案例</p>
<a id="more"></a>
<h3 id="01网络模型"><a href="#01网络模型" class="headerlink" title="01网络模型"></a>01网络模型</h3><p>*A:网络模型<br> TCP/IP协议中的四层分别是应用层、传输层、网络层和链路层，每层分别负责不同的通信功能，接下来针对这四层进行详细地讲解。<br>   <strong>链路层</strong>：<strong>链路层是用于定义物理传输通道</strong>，通常是对某些网络连接设备的驱动协议，例如针对光纤、网线提供的驱动。<br>   <strong>网络层</strong>：网络层是整个TCP/IP协议的核心，它<strong>主要用于将传输的数据进行分组，将分组数据发送到目标计算机或者网络</strong>。<br>   <strong>传输层</strong>：<strong>主要使网络程序进行通信，在进行网络通信时，可以采用TCP协议，也可以采用UDP协议。</strong><br>   <strong>应用层</strong>：主要<strong>负责应用程序的协议，例如HTTP协议、FTP协议</strong>等。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548162671/samples/java%20files/TCP_IP.png" alt=""></p>
<h3 id="02IP地址"><a href="#02IP地址" class="headerlink" title="02IP地址"></a>02IP地址</h3><p>*A:IP地址<br>  在TCP/IP协议中，这个标识号就是IP地址，它可以唯一标识一台计算机，<br>  目前，IP地址广泛使用的版本是IPv4，它是由4个字节大小的二进制数来表示，如：00001010000000000000000000000001。<br>  由于二进制形式表示的IP地址非常不便记忆和处理，因此通常会将IP地址写成十进制的形式，<br>  每个字节用一个十进制数字(0-255)表示，数字间用符号“.”分开，如 “192.168.1.100”<br> <strong> 127.0.0.1 为本地主机地址(本地回环地址)</strong></p>
<h3 id="03端口号"><a href="#03端口号" class="headerlink" title="03端口号"></a>03端口号</h3><p>*A:端口号<br>通过IP地址可以连接到指定计算机，但如果想访问目标计算机中的某个应用程序，还需要指定端口号。<br>在计算机中，不同的应用程序是通过端口号区分的。<br><strong>端口号是用两个字节（16位的二进制数）表示的，它的取值范围是0~65535，</strong><br>其中，<strong>0~1023之间的端口号用于一些知名的网络服务和应用</strong>，<strong>用户的普通应用程序需要使用1024以上的端口号，从而避免端口号被另外一个应用或服务所占用</strong><br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548163129/samples/java%20files/ip.jpg" alt=""></p>
<h3 id="04InetAddress类"><a href="#04InetAddress类" class="headerlink" title="04InetAddress类"></a>04InetAddress类</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">*A:InetAddress类</span><br><span class="line">   *</span><br><span class="line">    *  表示互联网中的IP地址</span><br><span class="line">    *    java.net.InetAddress</span><br><span class="line">    *  静态方法</span><br><span class="line">    *    <span class="function"><span class="keyword">static</span> InetAddress  <span class="title">getLocalHost</span><span class="params">()</span>   LocalHost"本地主机"</span></span><br><span class="line"><span class="function">    *    返回本地主机,返回值InetAddress对象</span></span><br><span class="line"><span class="function">    *    </span></span><br><span class="line"><span class="function">    *    <span class="keyword">static</span> InetAddress <span class="title">getByName</span><span class="params">(String hostName)</span>传递主机名,获取IP地址对象</span>;</span><br><span class="line">    *    </span><br><span class="line">    *  非静态方法</span><br><span class="line">    *     <span class="function">String <span class="title">getHoustAddress</span><span class="params">()</span>获取主机IP地址</span></span><br><span class="line"><span class="function">    *     String <span class="title">getHoustName</span><span class="params">()</span>获取主机名</span></span><br><span class="line"><span class="function">    *    </span></span><br><span class="line"><span class="function">    *</span></span><br><span class="line"><span class="function">   <span class="keyword">public</span> class InetAddressDemo </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> UnknownHostException </span>{</span><br><span class="line">      function_1();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    *</span><br><span class="line">     * <span class="function"><span class="keyword">static</span> InetAddress <span class="title">getByName</span><span class="params">(String hostName)</span>传递主机名,获取IP地址对象</span></span><br><span class="line"><span class="function">     *</span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_1</span><span class="params">()</span><span class="keyword">throws</span> UnknownHostException </span>{</span><br><span class="line">      InetAddress inet = InetAddress.getByName(<span class="string">"www.baidu.com"</span>);</span><br><span class="line">      System.out.println(inet);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    *</span><br><span class="line">     *  <span class="function"><span class="keyword">static</span> InetAddress  <span class="title">getLocalHost</span><span class="params">()</span>   LocalHost本地主机</span></span><br><span class="line"><span class="function">     *</span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function</span><span class="params">()</span> <span class="keyword">throws</span> UnknownHostException</span>{</span><br><span class="line">      InetAddress inet = InetAddress.getLocalHost();</span><br><span class="line">      <span class="comment">//输出结果就是主机名,和 IP地址</span></span><br><span class="line">      System.out.println(inet.toString());</span><br><span class="line">      </span><br><span class="line">      String ip = inet.getHostAddress();</span><br><span class="line">      String name = inet.getHostName();</span><br><span class="line">      System.out.println(ip+<span class="string">"   "</span>+name);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/*String host = inet.toString();</span></span><br><span class="line"><span class="comment">      String[] str = host.split("/");</span></span><br><span class="line"><span class="comment">      for(String s : str){</span></span><br><span class="line"><span class="comment">        System.out.println(s);</span></span><br><span class="line"><span class="comment">      }*/</span></span><br><span class="line">    }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="05UDP协议"><a href="#05UDP协议" class="headerlink" title="05UDP协议"></a>05UDP协议</h3><p>A:UDP协议<br> a:UDP协议概述:<br>  <strong>UDP是无连接通信协议，即在数据传输时，数据的发送端和接收端不建立逻辑连接</strong>。<br>  简单来说，当一台计算机向另外一台计算机发送数据时，<strong>发送端不会确认接收端是否存在，就会发出数据</strong>，<strong>同样接收端在收到数据时，也不会向发送端反馈是否收到数据。</strong><br> b:UDP协议特点:<br>  <strong>由于使用UDP协议消耗资源小，通信效率高，所以通常都会用于音频、视频和普通数据的传输例如视频会议都使用UDP协议</strong>，<br>  因为这种情况即使偶尔丢失一两个数据包，也不会对接收结果产生太大影响。</p>
<h3 id="06TCP协议"><a href="#06TCP协议" class="headerlink" title="06TCP协议"></a>06TCP协议</h3><p>*A:TCP协议<br><strong>TCP协议是面向连接的通信协议，即在传输数据前先在发送端和接收端建立逻辑连接</strong>，然后再传输数据，它提供了两台计算机之间<strong>可靠无差错的数据传输。</strong><br>在TCP连接中必须要明确客户端与服务器端，<br>  由客户端向服务端发出连接请求，每次连接的创建都需要经过“三次握手”。<br>  <strong>第一次握手，客户端向服务器端发出连接请求，等待服务器确认<br>  第二次握手，服务器端向客户端回送一个响应，通知客户端收到了连接请求<br>  第三次握手，客户端再次向服务器端发送确认信息，确认连接</strong></p>
<h3 id="07-UDP-数据包和发送对象介绍"><a href="#07-UDP-数据包和发送对象介绍" class="headerlink" title="07 UDP:数据包和发送对象介绍"></a>07 UDP:数据包和发送对象介绍</h3><h4 id="A-数据包和发送对象介绍"><a href="#A-数据包和发送对象介绍" class="headerlink" title="*A:数据包和发送对象介绍:"></a>*A:数据包和发送对象介绍:</h4><p><strong>DatagramPacket数据包的作用就如同是“集装箱”</strong>，<br>   可以<strong>将发送端或者接收端的数据封装</strong>起来。然而运输货物只有“集装箱”是不够的，还需要有码头。<br>   在程序中需要实现通信只有DatagramPacket数据包也同样不行，为此JDK中提供的一个DatagramSocket类。</p>
<p>   <strong>DatagramSocket类的作用就类似于“码头”</strong>，<strong>使用这个类的实例对象就可以发送和接收DatagramPacket数据包</strong></p>
<p><strong>DatagramPacket:封装数据</strong></p>
<p><strong>DatagramSocket:发送DatagramPacket, 即传输数据</strong></p>
<h4 id="B-DatagramPacket类："><a href="#B-DatagramPacket类：" class="headerlink" title="*B: DatagramPacket类："></a>*B: DatagramPacket类：</h4><p>在创建<strong>发送端和接收端</strong>的DatagramPacket对象时，使用的<strong>构造方法有所不同：</strong></p>
<p>使用该构造方法在创建DatagramPacket对象时，指定了<strong>封装数据的字节数组和数据的大小，没有指定IP地址和端口号</strong>。很明显，<strong>这样的对象只能用于接收端，不能用于发送端。</strong>因为发送端一定要明确指出数据的目的地(ip地址和端口号)，而接收端不需要明确知道数据的来源，只需要接收到数据即可。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209632/samples/java%20files/gh11.png" alt=""> </p>
<p>———————————————————————————————————————————————————————————</p>
<p>使用该构造方法在创建DatagramPacket对象时，不仅<strong>指定了封装数据的字节数组和数据的大小，还指定了数据包的目标IP地址（addr）和端口号（port）。该对象通常用于发送端，</strong>因为在发送数据时必须指定接收端的IP地址和端口号，就好像发送货物的集装箱上面必须标明接收人的地址一样。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/22.png" alt=""></p>
<p>———————————————————————————————————————————————————————————<br>上面我们讲解了DatagramPacket的构造方法，接下来对DatagramPacket类中的常用方法进行详细地讲解，如下表所示。<br> <img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/33.png" alt=""></p>
<h4 id="C-DatagramSocket类："><a href="#C-DatagramSocket类：" class="headerlink" title="*C: DatagramSocket类："></a>*C: DatagramSocket类：</h4><p>DatagramSocket类的作用就<strong>类似于码头</strong>，<strong>使用这个类的实例对象就可以发送和接收DatagramPacket数据包</strong>，发送数据的过程如下图所示。<br> <img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/44.jpg" alt=""></p>
<p>在创建发送端和接收端的DatagramSocket对象时，使用的构造方法也有所不同：</p>
<p>该构造方法用于<strong>创建发送端</strong>的DatagramSocket对象，在创建DatagramSocket对象时，<strong>并没有指定端口号</strong>，此时，<strong>系统会分配一个没有被其它网络程序所使用的端口号。</strong><br> <img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/55.png" alt=""><br>———————————————————————————————————————————————————————————<br>该构造方法<strong>既可用于创建接收端</strong>的DatagramSocket对象，<strong>又可以创建发送端</strong>的DatagramSocket对象，在<strong>创建接收端</strong>的DatagramSocket对象时，<strong>必须要指定一个端口号</strong>，这样就<strong>可以监听指定的端口。</strong><br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/66.png" alt=""><br>———————————————————————————————————————————————————————————<br>上面我们讲解了DatagramSocket的构造方法，接下来对DatagramSocket类中的常用方法进行详细地讲解。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209599/samples/java%20files/77.png" alt=""></p>
<h3 id="08UDP发送端"><a href="#08UDP发送端" class="headerlink" title="08UDP发送端"></a>08UDP发送端</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">*A:UDP发送端</span><br><span class="line">     *</span><br><span class="line">       *  实现UDP协议的发送端:</span><br><span class="line">       *    实现封装数据的类 <span class="string">"java.net.DatagramPacket "</span> <span class="string">"将你的数据包装"</span></span><br><span class="line">       *    </span><br><span class="line">       *    实现数据传输的类 <span class="string">"java.net.DatagramSocket "</span> <span class="string">"将数据包发出去"</span></span><br><span class="line">       *    </span><br><span class="line">       *  实现步骤:</span><br><span class="line">       *    <span class="number">1</span>. 创建DatagramPacket对象,<span class="string">"封装数据"</span>, <span class="string">"接收的ip地址和端口"</span></span><br><span class="line">       *    <span class="number">2</span>. 创建DatagramSocket</span><br><span class="line">       *    <span class="number">3</span>. 调用DatagramSocket类<span class="string">"方法send"</span>,发送数据包</span><br><span class="line">       *    <span class="number">4</span>. 关闭资源</span><br><span class="line">       *                                                                                     <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">       *    DatagramPacket构造方法:</span></span><br><span class="line"><span class="function">       *      <span class="title">DatagramPacket</span><span class="params">(<span class="keyword">byte</span>[] buf, <span class="keyword">int</span> length, InetAddress address, <span class="keyword">int</span> port)</span> </span></span><br><span class="line"><span class="function">       *      </span></span><br><span class="line"><span class="function">       *    DatagramSocket构造方法:</span></span><br><span class="line"><span class="function">       *      <span class="title">DatagramSocket</span><span class="params">()</span>空参数</span></span><br><span class="line"><span class="function">       *      方法: coid <span class="title">send</span><span class="params">(DatagramPacket d)</span></span></span><br><span class="line"><span class="function">       *      </span></span><br><span class="line"><span class="function">       *</span></span><br><span class="line"><span class="function">      <span class="keyword">public</span> class UDPSend </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">         <span class="comment">//创建数据包对象,封装要发送的数据,接收端IP,端口</span></span><br><span class="line">         <span class="keyword">byte</span>[] date = <span class="string">"你好UDP"</span>.getBytes();</span><br><span class="line">         <span class="comment">//创建InetAddress对象,封装自己的IP地址</span></span><br><span class="line">         InetAddress inet = InetAddress.getByName(<span class="string">"127.0.0.1"</span>);</span><br><span class="line">         DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(date, date.length, inet,<span class="number">6000</span>);</span><br><span class="line">         <span class="comment">//创建DatagramSocket对象,数据包的发送和接收对象</span></span><br><span class="line">         DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">         <span class="comment">//调用ds对象的方法send,发送数据包</span></span><br><span class="line">         ds.send(dp);</span><br><span class="line">         <span class="comment">//关闭资源</span></span><br><span class="line">         ds.close();</span><br><span class="line">       }</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548209601/samples/java%20files/88.png" alt=""></p>
<h3 id="09UDP接收端"><a href="#09UDP接收端" class="headerlink" title="09UDP接收端"></a>09UDP接收端</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">*A:UDP接收端</span><br><span class="line">       *</span><br><span class="line">        *  实现UDP接收端</span><br><span class="line">        *    实现封装数据包 java.net.DatagramPacket <span class="string">"将数据接收"</span></span><br><span class="line">        *    实现输出传输     java.net.DatagramSocket <span class="string">"接收数据包"</span></span><br><span class="line">        *    </span><br><span class="line">        *  实现步骤:</span><br><span class="line">        *     <span class="number">1</span>. <span class="string">"创建DatagramSocket接收端对象"</span>,<span class="string">"必须绑定端口号"</span></span><br><span class="line">        *         要和发送端端口号一致</span><br><span class="line">        *     <span class="number">2</span>. 创建字节数组,接收发来的数据</span><br><span class="line">        *     <span class="number">3</span>. 创建数据包对象DatagramPacket</span><br><span class="line">        *     <span class="number">4</span>. 调用DatagramSocket对象方法</span><br><span class="line">        *       <span class="function"><span class="keyword">void</span> <span class="title">receive</span><span class="params">(DatagramPacket dp)</span>接收数据,数据放在数据包中</span></span><br><span class="line"><span class="function">        *     5. 拆包</span></span><br><span class="line"><span class="function">        *          a.发送的IP地址</span></span><br><span class="line"><span class="function">        *            数据包对象DatagramPacket方法:</span></span><br><span class="line"><span class="function">        *             InetAddress <span class="title">getAddress</span><span class="params">()</span>获取的是发送端的IP地址对象</span></span><br><span class="line"><span class="function">        *            返回值是InetAddress对象</span></span><br><span class="line"><span class="function">        *            </span></span><br><span class="line"><span class="function">        *          b.接收到的字节个数</span></span><br><span class="line"><span class="function">        *            数据包对象DatagramPacket方法  <span class="keyword">int</span> <span class="title">getLength</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        *            </span></span><br><span class="line"><span class="function">        *          c.发送方的端口号</span></span><br><span class="line"><span class="function">        *            数据包对象DatagramPacket方法 <span class="keyword">int</span> <span class="title">getPort</span><span class="params">()</span>发送端口</span></span><br><span class="line"><span class="function">        *     6. 关闭资源</span></span><br><span class="line"><span class="function">        *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">       <span class="keyword">public</span> class UDPReceive </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">          <span class="comment">//创建数据包传输对象DatagramSocket 绑定端口号</span></span><br><span class="line">          DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">6000</span>);</span><br><span class="line">          <span class="comment">//创建字节数组</span></span><br><span class="line">          <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">          <span class="comment">//创建数据包对象,传递字节数组</span></span><br><span class="line">          DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(data, data.length);</span><br><span class="line">          <span class="comment">//调用ds对象的方法receive传递数据包</span></span><br><span class="line">          ds.receive(dp);</span><br><span class="line">          </span><br><span class="line">      </span><br><span class="line">        }</span><br><span class="line">       }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="10UDP接收端的拆包"><a href="#10UDP接收端的拆包" class="headerlink" title="10UDP接收端的拆包"></a>10UDP接收端的拆包</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">*A:UDP接收端的拆包 </span><br><span class="line">    </span><br><span class="line">    *</span><br><span class="line">     *  实现UDP接收端</span><br><span class="line">     *    实现封装数据包 java.net.DatagramPacket 将数据接收</span><br><span class="line">     *    实现输出传输     java.net.DatagramSocket 接收数据包</span><br><span class="line">     *    </span><br><span class="line">     *  实现步骤:</span><br><span class="line">     *     <span class="number">1</span>. 创建DatagramSocket对象,绑定端口号</span><br><span class="line">     *         要和发送端端口号一致</span><br><span class="line">     *     <span class="number">2</span>. 创建字节数组,接收发来的数据</span><br><span class="line">     *     <span class="number">3</span>. 创建数据包对象DatagramPacket</span><br><span class="line">     *     <span class="number">4</span>. 调用DatagramSocket对象方法</span><br><span class="line">     *        <span class="function"><span class="keyword">void</span> <span class="title">receive</span><span class="params">(DatagramPacket dp)</span>接收数据,数据放在数据包中</span></span><br><span class="line"><span class="function">     *     5. 拆包</span></span><br><span class="line"><span class="function">     *          发送的IP地址</span></span><br><span class="line"><span class="function">     *            数据包对象DatagramPacket方法<span class="title">getAddress</span><span class="params">()</span>获取的是发送端的IP地址对象</span></span><br><span class="line"><span class="function">     *            返回值是InetAddress对象</span></span><br><span class="line"><span class="function">     *          接收到的字节个数</span></span><br><span class="line"><span class="function">     *            数据包对象DatagramPacket方法 <span class="title">getLength</span><span class="params">()</span></span></span><br><span class="line"><span class="function">     *          发送方的端口号</span></span><br><span class="line"><span class="function">     *            数据包对象DatagramPacket方法 <span class="title">getPort</span><span class="params">()</span>发送端口</span></span><br><span class="line"><span class="function">     *     6. 关闭资源</span></span><br><span class="line"><span class="function">     *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> class UDPReceive </span>{</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">        <span class="comment">//创建数据包传输对象DatagramSocket 绑定端口号</span></span><br><span class="line">        DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">6000</span>);</span><br><span class="line">        <span class="comment">//创建字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">//创建数据包对象,传递字节数组</span></span><br><span class="line">        DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(data, data.length);</span><br><span class="line">        <span class="comment">//调用ds对象的方法receive传递数据包</span></span><br><span class="line">        ds.receive(dp);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获取发送端的IP地址对象</span></span><br><span class="line">        String ip=dp.getAddress().getHostAddress();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获取发送的端口号</span></span><br><span class="line">        <span class="keyword">int</span> port = dp.getPort();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获取接收到的字节个数</span></span><br><span class="line">        <span class="keyword">int</span> length = dp.getLength();</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,length)+<span class="string">"..."</span>+ip+<span class="string">":"</span>+port);</span><br><span class="line">        ds.close();</span><br><span class="line">      }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="11键盘输入的聊天"><a href="#11键盘输入的聊天" class="headerlink" title="11键盘输入的聊天"></a>11键盘输入的聊天</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">*A:键盘输入的聊天</span><br><span class="line">    *a:发送端:</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">       * 实现UDP发送,键盘输入的形式</span></span><br><span class="line"><span class="comment">       * 输入完毕,发送给接收端      </span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPSend</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">          Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">          DatagramSocket ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">          InetAddress inet = InetAddress.getByName(<span class="string">"127.0.0.1"</span>);</span><br><span class="line"></span><br><span class="line">          <span class="keyword">while</span>(<span class="keyword">true</span>){</span><br><span class="line">          String message = sc.nextLine();</span><br><span class="line">         <span class="keyword">if</span>(messege.equals(<span class="string">"bye"</span>)){</span><br><span class="line">                System.out.println(<span class="string">"Bye!!!"</span>);</span><br><span class="line">                ds.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">          <span class="keyword">byte</span>[] date = message.getBytes();</span><br><span class="line">          DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(date, date.length, inet,<span class="number">6000</span>);</span><br><span class="line">          ds.send(dp);</span><br><span class="line">          }</span><br><span class="line">      </span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">       <span class="comment">/*</span></span><br><span class="line"><span class="comment">        *  实现UDP接收端</span></span><br><span class="line"><span class="comment">        *  永不停歇的接收端</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">       <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UDPReceive</span> </span>{</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">          <span class="comment">//创建数据包传输对象DatagramSocket 绑定端口号</span></span><br><span class="line">          DatagramSocket ds = <span class="keyword">new</span> DatagramSocket(<span class="number">6000</span>);</span><br><span class="line">          <span class="comment">//创建字节数组</span></span><br><span class="line">          <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">          <span class="comment">//创建数据包对象,传递字节数组</span></span><br><span class="line"></span><br><span class="line">          <span class="keyword">while</span>(<span class="keyword">true</span>){</span><br><span class="line">          DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(data, data.length);</span><br><span class="line">          <span class="comment">//调用ds对象的方法receive传递数据包</span></span><br><span class="line">          ds.receive(dp);</span><br><span class="line">          </span><br><span class="line">          <span class="comment">//获取发送端的IP地址对象</span></span><br><span class="line">          String ip=dp.getAddress().getHostAddress();</span><br><span class="line">          </span><br><span class="line">          <span class="comment">//获取发送的端口号</span></span><br><span class="line">          <span class="keyword">int</span> port = dp.getPort();</span><br><span class="line">		   <span class="comment">//获取接收到的字节个数</span></span><br><span class="line">          <span class="keyword">int</span> length = dp.getLength();</span><br><span class="line">		  String rsmessege = <span class="keyword">new</span> String(data,<span class="number">0</span>,length);</span><br><span class="line">          <span class="keyword">if</span>(rsmessege.equals(<span class="string">"bye"</span>)){</span><br><span class="line">                System.out.println(<span class="string">"Bye!!!"</span>);</span><br><span class="line">                ds.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">          </span><br><span class="line">          System.out.println(rsmessege+<span class="string">"..."</span>+ip+<span class="string">":"</span>+port);</span><br><span class="line">          }</span><br><span class="line">     </span><br><span class="line">        }</span><br><span class="line">       }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="12TCP的客户端和服务器"><a href="#12TCP的客户端和服务器" class="headerlink" title="12TCP的客户端和服务器"></a>12TCP的客户端和服务器</h3><p>*A:TCP的客户端和服务器<br>TCP通信同UDP通信一样，都能实现两台计算机之间的通信，通信的两端都需要创建socket对象。<br>区别在于，UDP中只有发送端和接收端，不区分客户端与服务器端，计算机之间可以任意地发送数据。<br>而<strong>TCP通信是严格区分客户端与服务器端</strong>的，在通信时，<strong>必须先由客户端去连接服务器端才能实现通信，<br>服务器端不可以主动连接客户端，并且服务器端程序需要事先启动，等待客户端的连接。</strong></p>
<p>在JDK中提供了两个类用于实现TCP程序，<strong>一个是ServerSocket类，用于表示服务器端，一个是Socket类，用于表示客户端</strong>。</p>
<p>通信时，首<strong>先创建代表服务器端的ServerSocket对象</strong>，该对象相当于开启一个服务，并等待客户端的连接，<strong>然后创建代表客户端的Socket对象向服务器端发出连接请求</strong>，服务器端响应请求，两者建立连接开始通信。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548227383/samples/java%20files/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E5%99%A8.jpg" alt=""></p>
<h4 id="ServerSocket的构造方法"><a href="#ServerSocket的构造方法" class="headerlink" title="ServerSocket的构造方法"></a>ServerSocket的构造方法</h4><p>1、使用该构造方法在创建ServerSocket对象时，就可以<strong>将其绑定到一个指定的端口号上（参数port就是端口号）。</strong><br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s1.png" alt=""><br>———————————————————————————————————————————————————————————<br>2、ServerSocket的常用方法，如表所示。<br> <img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s2.png" alt=""><br>ServerSocket对象<strong>负责监听某台计算机的某个端口号</strong>，在创建ServerSocket对象后，<strong>需要继续调用该对象的accept()方法，接收来自客户端的请求</strong>。<br><strong>当执行了accept()方法之后，服务器端程序会发生【阻塞】，直到客户端发出连接请求</strong>，<strong>accept()方法才会返回一个Scoket对象用于和客户端实现通信</strong>，程序才能继续向下执行。</p>
<h4 id="Socket的常用构造方法"><a href="#Socket的常用构造方法" class="headerlink" title="Socket的常用构造方法"></a>Socket的常用构造方法</h4><p>1、使用该构造方法在创建Socket对象时，会根据参数<strong>去连接在指定地址和端口上运行的服务器程序</strong>，其中<strong>参数host接收的是一个字符串类型的IP地址。</strong><br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s3.png" alt=""></p>
<p>———————————————————————————————————————————————————————————<br>2、该方法在使用上与第二个构造方法类似，<strong>参数address用于接收一个InetAddress类型的对象，该对象用于封装一个IP地址</strong>。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228122/samples/java%20files/s4.png" alt=""><br>在以上Socket的构造方法中，<strong>最常用的是第一个构造方法</strong>。<br>———————————————————————————————————————————————————————————<br>3、在Socket类的常用方法中，getInputStream()和getOutStream()方法分别用于获取输入流和输出流。<strong>当客户端和服务端建立连接后，数据是以IO流的形式进行交互的，从而实现通信</strong>。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228123/samples/java%20files/rr.jpg" alt=""></p>
<p>接下来通过一张图来描述<strong>服务器端和客户端的数据传输</strong>，如下图所示。<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228382/samples/java%20files/99.png" alt=""></p>
<h3 id="13TCP的客户端程序"><a href="#13TCP的客户端程序" class="headerlink" title="13TCP的客户端程序"></a>13TCP的客户端程序</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">*A:TCP的客户端程序</span><br><span class="line">   *</span><br><span class="line">    *  实现TCP客户端,连接到服务器</span><br><span class="line">    *  和服务器实现数据交换</span><br><span class="line">    *  实现TCP客户端程序的类 java.net.Socket</span><br><span class="line">    *                                                                                         <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span></span><br><span class="line"><span class="function">    *  构造方法:</span></span><br><span class="line"><span class="function">    *      <span class="title">Socket</span><span class="params">(String host, <span class="keyword">int</span> port)</span>  传递服务器IP和端口号</span></span><br><span class="line"><span class="function">    *      注意:构造方法只要运行,就会和服务器进行连接,连接失败,抛出异常</span></span><br><span class="line"><span class="function">    *      </span></span><br><span class="line"><span class="function">    *    OutputStream  <span class="title">getOutputStream</span><span class="params">()</span> 返回套接字的输出流</span></span><br><span class="line"><span class="function">    *      作用: 将数据输出,输出到服务器</span></span><br><span class="line"><span class="function">    *      </span></span><br><span class="line"><span class="function">    *    InputStream <span class="title">getInputStream</span><span class="params">()</span> 返回套接字的输入流</span></span><br><span class="line"><span class="function">    *      作用: 从服务器端读取数据</span></span><br><span class="line"><span class="function">    *      </span></span><br><span class="line"><span class="function">    *    客户端服务器数据交换,必须使用套接字对象Socket中的获取的IO流,自己new流,不行</span></span><br><span class="line"><span class="function">    *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">   <span class="keyword">public</span> class TCPClient </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">      <span class="comment">//创建Socket对象,连接服务器</span></span><br><span class="line">      Socket socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>);</span><br><span class="line">      <span class="comment">//通过客户端的套接字对象Socket方法,获取字节输出流,将数据写向服务器</span></span><br><span class="line">      OutputStream out = socket.getOutputStream();</span><br><span class="line">      out.write(<span class="string">"服务器OK"</span>.getBytes()); </span><br><span class="line">      socket.close();</span><br><span class="line">    }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="14TCP的服务器程序以及accept方法"><a href="#14TCP的服务器程序以及accept方法" class="headerlink" title="14TCP的服务器程序以及accept方法"></a>14TCP的服务器程序以及accept方法</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">A:TCP的服务器程序accept方法</span><br><span class="line">    *</span><br><span class="line">     *  实现TCP服务器程序</span><br><span class="line">     *  表示服务器程序的类 java.net.ServerSocket</span><br><span class="line">     *  构造方法:</span><br><span class="line">     *    ServerSocket(<span class="keyword">int</span> port) 传递端口号</span><br><span class="line">     *  </span><br><span class="line">     *  <span class="string">"很重要的事情: 必须要获得客户端的套接字对象Socket"</span></span><br><span class="line">     *    <span class="function">Socket  <span class="title">accept</span><span class="params">()</span></span></span><br><span class="line"><span class="function">     *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="keyword">public</span> class TCPServer </span>{</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">       ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">       <span class="comment">//调用服务器套接字对象中的方法accept() 获取客户端套接字对象</span></span><br><span class="line">       Socket socket = server.accept();</span><br><span class="line">       <span class="comment">//通过客户端套接字对象,socket获取字节输入流,读取的是客户端发送来的数据</span></span><br><span class="line">       InputStream in = socket.getInputStream();</span><br><span class="line">       <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">       <span class="keyword">int</span> len = in.read(data);</span><br><span class="line">       System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,len));  </span><br><span class="line">       socket.close();</span><br><span class="line">       server.close();</span><br><span class="line">     }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="15TCP的服务器程序读取客户端数据"><a href="#15TCP的服务器程序读取客户端数据" class="headerlink" title="15TCP的服务器程序读取客户端数据"></a>15TCP的服务器程序读取客户端数据</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">A:TCP的服务器程序读取客户端数据</span><br><span class="line">     </span><br><span class="line">    *</span><br><span class="line">      *  实现TCP客户端,连接到服务器</span><br><span class="line">      *  和服务器实现数据交换</span><br><span class="line">      *  实现TCP客户端程序的类 java.net.Socket</span><br><span class="line">      *  </span><br><span class="line">      *  构造方法:</span><br><span class="line">      *      Socket(String host, <span class="keyword">int</span> port)  传递服务器IP和端口号</span><br><span class="line">      *      注意:构造方法只要运行,就会和服务器进行连接,连接失败,抛出异常</span><br><span class="line">      *      </span><br><span class="line">      *    <span class="function">OutputStream  <span class="title">getOutputStream</span><span class="params">()</span> 返回套接字的输出流</span></span><br><span class="line"><span class="function">      *      作用: 将数据输出,输出到服务器</span></span><br><span class="line"><span class="function">      *      </span></span><br><span class="line"><span class="function">      *    InputStream <span class="title">getInputStream</span><span class="params">()</span> 返回套接字的输入流</span></span><br><span class="line"><span class="function">      *      作用: 从服务器端读取数据</span></span><br><span class="line"><span class="function">      *      </span></span><br><span class="line"><span class="function">      *    客户端服务器数据交换,必须使用套接字对象Socket中的获取的IO流,自己new流,不行</span></span><br><span class="line"><span class="function">      *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">     <span class="keyword">public</span> class TCPClient </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">         <span class="comment">//创建Socket对象,连接服务器</span></span><br><span class="line">         Socket socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>);</span><br><span class="line">         <span class="comment">//通过客户端的套接字对象Socket方法,获取字节输出流,将数据写向服务器</span></span><br><span class="line">         OutputStream out = socket.getOutputStream();</span><br><span class="line">         out.write(<span class="string">"服务器OK"</span>.getBytes());</span><br><span class="line">         socket.close();</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     *</span><br><span class="line">      *  实现TCP服务器程序</span><br><span class="line">      *  表示服务器程序的类 java.net.ServerSocket</span><br><span class="line">      *  构造方法:</span><br><span class="line">      *    ServerSocket(<span class="keyword">int</span> port) 传递端口号</span><br><span class="line">      *  </span><br><span class="line">      *  很重要的事情: 必须要获得客户端的套接字对象Socket</span><br><span class="line">      *    <span class="function">Socket  <span class="title">accept</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">     <span class="keyword">public</span> class TCPServer </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">         ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">         <span class="comment">//调用服务器套接字对象中的方法accept() 获取客户端套接字对象</span></span><br><span class="line">         Socket socket = server.accept();</span><br><span class="line">         <span class="comment">//通过客户端套接字对象,socket获取字节输入流,读取的是客户端发送来的数据</span></span><br><span class="line">         InputStream in = socket.getInputStream();</span><br><span class="line">         <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">         <span class="keyword">int</span> len = in.read(data);</span><br><span class="line">         System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,len));</span><br><span class="line">	  socket.close();</span><br><span class="line">         server.close();</span><br><span class="line">       </span><br><span class="line">       }</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="16TCP的服务器和客户端的数据交换"><a href="#16TCP的服务器和客户端的数据交换" class="headerlink" title="16TCP的服务器和客户端的数据交换"></a>16TCP的服务器和客户端的数据交换</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">A:TCP的服务器和客户端的数据交换</span><br><span class="line">     *</span><br><span class="line">      *  实现TCP客户端,连接到服务器</span><br><span class="line">      *  和服务器实现数据交换</span><br><span class="line">      *  实现TCP客户端程序的类 java.net.Socket</span><br><span class="line">      *                                                                                        <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line"><span class="function">      *  构造方法:</span></span><br><span class="line"><span class="function">      *      <span class="title">Socket</span><span class="params">(String host, <span class="keyword">int</span> port)</span>  传递服务器IP和端口号</span></span><br><span class="line"><span class="function">      *      注意:构造方法只要运行,就会和服务器进行连接,连接失败,抛出异常</span></span><br><span class="line"><span class="function">      *      </span></span><br><span class="line"><span class="function">      *    OutputStream  <span class="title">getOutputStream</span><span class="params">()</span> 返回套接字的输出流</span></span><br><span class="line"><span class="function">      *      作用: 将数据输出,输出到服务器</span></span><br><span class="line"><span class="function">      *      </span></span><br><span class="line"><span class="function">      *    InputStream <span class="title">getInputStream</span><span class="params">()</span> 返回套接字的输入流</span></span><br><span class="line"><span class="function">      *      作用: 从服务器端读取数据</span></span><br><span class="line"><span class="function">      *      </span></span><br><span class="line"><span class="function">      *    客户端服务器数据交换,必须使用套接字对象Socket中的获取的IO流,自己new流,不行</span></span><br><span class="line"><span class="function">      *</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">     <span class="keyword">public</span> class TCPClient </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>{</span><br><span class="line">         <span class="comment">//创建Socket对象,连接服务器</span></span><br><span class="line">         Socket socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">8888</span>);</span><br><span class="line">         <span class="comment">//通过客户端的套接字对象Socket方法,获取字节输出流,将数据写向服务器</span></span><br><span class="line">         OutputStream out = socket.getOutputStream();</span><br><span class="line">         out.write(<span class="string">"服务器OK"</span>.getBytes());</span><br><span class="line">         </span><br><span class="line">         <span class="comment">//读取服务器发回的数据,使用socket套接字对象中的字节输入流</span></span><br><span class="line">         InputStream in = socket.getInputStream();</span><br><span class="line">         <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">         <span class="keyword">int</span> len = in.read(data);</span><br><span class="line">         System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,len));</span><br><span class="line">         </span><br><span class="line">         socket.close();</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">/*</span></span><br><span class="line"><span class="comment">      *  实现TCP服务器程序</span></span><br><span class="line"><span class="comment">      *  表示服务器程序的类 java.net.ServerSocket</span></span><br><span class="line"><span class="comment">      *  构造方法:</span></span><br><span class="line"><span class="comment">      *    ServerSocket(int port) 传递端口号</span></span><br><span class="line"><span class="comment">      *  </span></span><br><span class="line"><span class="comment">      *  很重要的事情: 必须要获得客户端的套接字对象Socket</span></span><br><span class="line"><span class="comment">      *    Socket  accept()</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>{</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">         ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8888</span>);</span><br><span class="line">         <span class="comment">//调用服务器套接字对象中的方法accept() 获取客户端套接字对象</span></span><br><span class="line">         Socket socket = server.accept();</span><br><span class="line">         <span class="comment">//通过客户端套接字对象,socket获取字节输入流,读取的是客户端发送来的数据</span></span><br><span class="line">         InputStream in = socket.getInputStream();</span><br><span class="line">         <span class="keyword">byte</span>[] data = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">         <span class="keyword">int</span> len = in.read(data);</span><br><span class="line">         System.out.println(<span class="keyword">new</span> String(data,<span class="number">0</span>,len));</span><br><span class="line">         </span><br><span class="line">         <span class="comment">//服务器向客户端回数据,字节输出流,通过客户端套接字对象获取字节输出流</span></span><br><span class="line">         OutputStream out = socket.getOutputStream();</span><br><span class="line">         out.write(<span class="string">"收到,谢谢"</span>.getBytes());</span><br><span class="line">         </span><br><span class="line">         socket.close();</span><br><span class="line">         server.close();</span><br><span class="line">       }</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="17TCP的中的流对象"><a href="#17TCP的中的流对象" class="headerlink" title="17TCP的中的流对象"></a>17TCP的中的流对象</h3><p>*A:TCP的中的流对象<br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548228382/samples/java%20files/99.png" alt="">      </p>
<h3 id="18TCP文件上传–案例分析"><a href="#18TCP文件上传–案例分析" class="headerlink" title="18TCP文件上传–案例分析"></a>18TCP文件上传–案例分析</h3><p>*A:图片上传案例分析<br> <img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548232440/samples/java%20files/%E5%9B%BE%E7%89%871etf.png" alt=""><br><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548250135/samples/java%20files/upload11.png" alt="">    </p>
<h3 id="19TCP文件上传–客户端"><a href="#19TCP文件上传–客户端" class="headerlink" title="19TCP文件上传–客户端"></a>19TCP文件上传–客户端</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">*A TCP上传客户端</span><br><span class="line">   <span class="string">"/*</span></span><br><span class="line"><span class="string">    *  实现TCP图片上传客户端</span></span><br><span class="line"><span class="string">    *  实现步骤:</span></span><br><span class="line"><span class="string">    *    1. Socket套接字连接服务器</span></span><br><span class="line"><span class="string">    *    2. 通过Socket获取字节输出流,写图片</span></span><br><span class="line"><span class="string">    *    3. 使用自己的流对象,读取图片数据源</span></span><br><span class="line"><span class="string">    *         FileInputStream</span></span><br><span class="line"><span class="string">    *    4. 读取图片,使用字节输出流,将图片写到服务器</span></span><br><span class="line"><span class="string">    *       采用字节数组进行缓冲</span></span><br><span class="line"><span class="string">    *    5. 通过Socket套接字获取字节输入流</span></span><br><span class="line"><span class="string">    *       读取服务器发回来的上传成功</span></span><br><span class="line"><span class="string">    *    6. 关闭资源</span></span><br><span class="line"><span class="string">    */"</span></span><br><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">      Socket socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">8000</span>);</span><br><span class="line">      <span class="comment">//获取字节输出流,图片写到服务器</span></span><br><span class="line">      OutputStream out = socket.getOutputStream();</span><br><span class="line">      <span class="comment">//创建字节输入流,读取本机上的数据源图片</span></span><br><span class="line">      FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\t.jpg"</span>);</span><br><span class="line">      <span class="comment">//开始读写字节数组</span></span><br><span class="line">      <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">      <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">      <span class="keyword">while</span>((len = fis.read(bytes))!=-<span class="number">1</span>){</span><br><span class="line">        out.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">//给服务器写终止序列</span></span><br><span class="line">      <span class="comment">//socket.shutdownOutput();</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//获取字节输入流,读取服务器的上传成功</span></span><br><span class="line">      InputStream in = socket.getInputStream();</span><br><span class="line"></span><br><span class="line">      len = in.read(bytes);</span><br><span class="line">      System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len));</span><br><span class="line">      </span><br><span class="line">      fis.close();</span><br><span class="line">      socket.close();</span><br><span class="line">    }</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="20TCP文件上传–服务器"><a href="#20TCP文件上传–服务器" class="headerlink" title="20TCP文件上传–服务器"></a>20TCP文件上传–服务器</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">A:TCP上传服务器</span><br><span class="line">  <span class="string">"/*</span></span><br><span class="line"><span class="string">   *  TCP图片上传服务器</span></span><br><span class="line"><span class="string">   *   1. ServerSocket套接字对象,监听端口8000</span></span><br><span class="line"><span class="string">   *   2. 方法accept()获取客户端的连接对象</span></span><br><span class="line"><span class="string">   *   3. 客户端连接对象获取字节输入流,读取客户端发送图片</span></span><br><span class="line"><span class="string">   *   4. 创建File对象,绑定上传文件夹</span></span><br><span class="line"><span class="string">   *       判断文件夹存在, 不存,在创建文件夹</span></span><br><span class="line"><span class="string">   *   5. 创建字节输出流,数据目的File对象所在文件夹</span></span><br><span class="line"><span class="string">   *   6. 字节流读取图片,字节流将图片写入到目的文件夹中</span></span><br><span class="line"><span class="string">   *   7. 将上传成功会写客户端</span></span><br><span class="line"><span class="string">   *   8. 关闭资源</span></span><br><span class="line"><span class="string">   *       </span></span><br><span class="line"><span class="string">   */"</span></span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">     ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">     Socket socket = server.accept();</span><br><span class="line">     <span class="comment">//通过客户端连接对象,获取字节输入流,读取客户端图片</span></span><br><span class="line">     InputStream in = socket.getInputStream();</span><br><span class="line">     <span class="comment">//将目的文件夹封装到File对象</span></span><br><span class="line">     File upload = <span class="keyword">new</span> File(<span class="string">"d:\\upload"</span>);</span><br><span class="line">     <span class="keyword">if</span>(!upload.exists())</span><br><span class="line">       upload.mkdirs();</span><br><span class="line">      </span><br><span class="line">     <span class="comment">//创建字节输出流,将图片写入到目的文件夹中                         </span></span><br><span class="line">     FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(upload+<span class="string">"t.jpg"</span>);</span><br><span class="line">     <span class="comment">//读写字节数组</span></span><br><span class="line">     <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">     <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">     <span class="keyword">while</span>((len = in.read(bytes))!=-<span class="number">1</span>){</span><br><span class="line">       fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">//通过客户端连接对象获取字节输出流</span></span><br><span class="line">     <span class="comment">//上传成功写回客户端</span></span><br><span class="line">     socket.getOutputStream().write(<span class="string">"上传成功"</span>.getBytes());</span><br><span class="line">     </span><br><span class="line">     fos.close();</span><br><span class="line">     socket.close();</span><br><span class="line">     server.close();</span><br><span class="line">   }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="21TCP文件上传–问题解决"><a href="#21TCP文件上传–问题解决" class="headerlink" title="21TCP文件上传–问题解决"></a>21TCP文件上传–问题解决</h3><p>上面的代码能实现文件的正确上传，但是不能实现服务器将“上传成功”信息返回给客户端,并且服务器和客户端的运行界面都不能终止：<br>问题在于：<br>read()方法遇到阻塞<br><strong>客户端的read()方法读取的是文件，遇到文件末尾， read()方法会返回-1</strong></p>
<p><strong>服务器端的read()方法读取的是客户端的字节数组，返回的是字节数组的长度&gt;=0；不会返回-1</strong></p>
<p><img src="https://res.cloudinary.com/dpvywdzxv/image/upload/v1548249677/samples/java%20files/%E5%9B%BE%E7%89%87dfg1.png" alt="">问题解决：<br><strong>给服务器写终止序列<br>socket.shutdownOutput();//向服务器端写入一个结束标志</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"/*</span></span><br><span class="line"><span class="string"> *  实现TCP图片上传客户端</span></span><br><span class="line"><span class="string"> *  实现步骤:</span></span><br><span class="line"><span class="string"> *    1. Socket套接字连接服务器</span></span><br><span class="line"><span class="string"> *    2. 通过Socket获取字节输出流,写图片</span></span><br><span class="line"><span class="string"> *    3. 使用自己的流对象,读取图片数据源</span></span><br><span class="line"><span class="string"> *         FileInputStream</span></span><br><span class="line"><span class="string"> *    4. 读取图片,使用字节输出流,将图片写到服务器</span></span><br><span class="line"><span class="string"> *       采用字节数组进行缓冲</span></span><br><span class="line"><span class="string"> *    5. 通过Socket套接字获取字节输入流</span></span><br><span class="line"><span class="string"> *       读取服务器发回来的上传成功</span></span><br><span class="line"><span class="string"> *    6. 关闭资源</span></span><br><span class="line"><span class="string"> */"</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPClient</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">    Socket socket = <span class="keyword">new</span> Socket(<span class="string">"127.0.0.1"</span>, <span class="number">8000</span>);</span><br><span class="line">    <span class="comment">//获取字节输出流,图片写到服务器</span></span><br><span class="line">    OutputStream out = socket.getOutputStream();</span><br><span class="line">    <span class="comment">//创建字节输入流,读取本机上的数据源图片</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"c:\\t.jpg"</span>);</span><br><span class="line">    <span class="comment">//开始读写字节数组</span></span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">while</span>((len = fis.read(bytes))!=-<span class="number">1</span>){</span><br><span class="line">      out.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//给服务器写终止序列</span></span><br><span class="line">    socket.shutdownOutput();<span class="comment">//想服务器端写入一个结束标志</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//获取字节输入流,读取服务器的上传成功</span></span><br><span class="line">    InputStream in = socket.getInputStream();</span><br><span class="line"></span><br><span class="line">    len = in.read(bytes);</span><br><span class="line">    System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len));</span><br><span class="line">    </span><br><span class="line">    fis.close();</span><br><span class="line">    socket.close();</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="TCP上传文件名"><a href="#TCP上传文件名" class="headerlink" title="TCP上传文件名"></a>TCP上传文件名</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">*A:TCP上传文件名</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">   *  TCP图片上传服务器</span></span><br><span class="line"><span class="comment">   *   1. ServerSocket套接字对象,监听端口8000</span></span><br><span class="line"><span class="comment">   *   2. 方法accept()获取客户端的连接对象</span></span><br><span class="line"><span class="comment">   *   3. 客户端连接对象获取字节输入流,读取客户端发送图片</span></span><br><span class="line"><span class="comment">   *   4. 创建File对象,绑定上传文件夹</span></span><br><span class="line"><span class="comment">   *       判断文件夹存在, 不存,在创建文件夹</span></span><br><span class="line"><span class="comment">   *   5. 创建字节输出流,数据目的File对象所在文件夹</span></span><br><span class="line"><span class="comment">   *   6. 字节流读取图片,字节流将图片写入到目的文件夹中</span></span><br><span class="line"><span class="comment">   *   7. 将上传成功会写客户端</span></span><br><span class="line"><span class="comment">   *   8. 关闭资源</span></span><br><span class="line"><span class="comment">   *       </span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPServer</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>{</span><br><span class="line">     ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">     Socket socket = server.accept();</span><br><span class="line">     <span class="comment">//通过客户端连接对象,获取字节输入流,读取客户端图片</span></span><br><span class="line">     InputStream in = socket.getInputStream();</span><br><span class="line">     <span class="comment">//将目的文件夹封装到File对象</span></span><br><span class="line">     File upload = <span class="keyword">new</span> File(<span class="string">"d:\\upload"</span>);</span><br><span class="line">     <span class="keyword">if</span>(!upload.exists())</span><br><span class="line">       upload.mkdirs();</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//防止文件同名被覆盖,从新定义文件名字</span></span><br><span class="line">     <span class="comment">//规则:  域名+毫秒值+6位随机数</span></span><br><span class="line">     String filename=<span class="string">"itcast"</span>+System.currentTimeMillis()+<span class="keyword">new</span> Random().nextInt(<span class="number">999999</span>)+<span class="string">".jpg"</span>;</span><br><span class="line">     <span class="comment">//创建字节输出流,将图片写入到目的文件夹中                         </span></span><br><span class="line">     FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(upload+File.separator+filename);</span><br><span class="line">     <span class="comment">//读写字节数组</span></span><br><span class="line">     <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">     <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">     <span class="keyword">while</span>((len = in.read(bytes))!=-<span class="number">1</span>){</span><br><span class="line">       fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">//通过客户端连接对象获取字节输出流</span></span><br><span class="line">     <span class="comment">//上传成功写回客户端</span></span><br><span class="line">     socket.getOutputStream().write(<span class="string">"上传成功"</span>.getBytes());</span><br><span class="line">     </span><br><span class="line">     fos.close();</span><br><span class="line">     socket.close();</span><br><span class="line">     server.close();</span><br><span class="line">   }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="多线程上传案例"><a href="#多线程上传案例" class="headerlink" title="多线程上传案例"></a>多线程上传案例</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">*A:多线程上传案例</span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TCPThreadServer</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">      ServerSocket server = <span class="keyword">new</span> ServerSocket(<span class="number">8000</span>);</span><br><span class="line">      <span class="keyword">while</span> (<span class="keyword">true</span>) {</span><br><span class="line">        <span class="comment">// 获取到一个客户端,必须开启新线程,为这个客户端服务</span></span><br><span class="line">        Socket socket = server.accept(); </span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Upload(socket)).start();</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Upload</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Upload</span><span class="params">(Socket socket)</span> </span>{</span><br><span class="line">      <span class="keyword">this</span>.socket = socket;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>{</span><br><span class="line">      <span class="keyword">try</span> {</span><br><span class="line">        <span class="comment">// 通过客户端连接对象,获取字节输入流,读取客户端图片</span></span><br><span class="line">        InputStream in = socket.getInputStream();</span><br><span class="line">        <span class="comment">// 将目的文件夹封装到File对象</span></span><br><span class="line">        File upload = <span class="keyword">new</span> File(<span class="string">"d:\\upload"</span>);</span><br><span class="line">        <span class="keyword">if</span> (!upload.exists())</span><br><span class="line">          upload.mkdirs();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 防止文件同名被覆盖,从新定义文件名字</span></span><br><span class="line">        <span class="comment">// 规则: 域名+毫秒值+6位随机数</span></span><br><span class="line">        String filename = <span class="string">"itcast"</span> + System.currentTimeMillis() + <span class="keyword">new</span> Random().nextInt(<span class="number">999999</span>) + <span class="string">".jpg"</span>;</span><br><span class="line">        <span class="comment">// 创建字节输出流,将图片写入到目的文件夹中</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(upload + File.separator + filename);</span><br><span class="line">        <span class="comment">// 读写字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = in.read(bytes)) != -<span class="number">1</span>) {</span><br><span class="line">          fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 通过客户端连接对象获取字节输出流</span></span><br><span class="line">        <span class="comment">// 上传成功写回客户端</span></span><br><span class="line">        socket.getOutputStream().write(<span class="string">"上传成功"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        fos.close();</span><br><span class="line">        socket.close();</span><br><span class="line">      } <span class="keyword">catch</span> (Exception ex) {</span><br><span class="line"></span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>    IP地址：用来唯一表示我们自己的电脑的，是一个网络标示<br>    端口号： 用来区别当前电脑中的应用程序的<br>    UDP: 传送速度快，但是容易丢数据，如视频聊天，语音聊天<br>    TCP: 传送稳定，不会丢失数据，如文件的上传、下载</p>
<h4 id="UDP程序交互的流程"><a href="#UDP程序交互的流程" class="headerlink" title="UDP程序交互的流程"></a>UDP程序交互的流程</h4><p>    发送端<br>1,创建DatagramSocket对象<br>2，创建DatagramPacket对象，并封装数据<br>3，发送数据<br>4，释放流资源<br>    接收端<br>1,创建DatagramSocket对象<br>2,创建DatagramPacket对象<br>3,接收数据存储到DatagramPacket对象中<br>4,获取DatagramPacket对象的内容<br> 5,释放流资源</p>
<h4 id="TCP程序交互的流程"><a href="#TCP程序交互的流程" class="headerlink" title="TCP程序交互的流程"></a>TCP程序交互的流程</h4><p>    客户端<br>1,创建客户端的Socket对象<br>2,获取Socket的输出流对象<br>3,写数据给服务器<br>4,获取Socket的输入流对象<br>5，使用输入流，读反馈信息<br>6,关闭流资源<br>    服务器端<br>1，创建服务器端ServerSocket对象，指定服务器端端口号<br>2，开启服务器，等待着客户端Socket对象的连接，如有客户端连接，返回客户端的Socket对象<br>3,通过客户端的Socket对象，获取客户端的输入流，为了实现获取客户端发来的数据<br>4,通过客户端的输入流，获取流中的数据<br>5,通过客户端的Socket对象，获取客户端的输出流，为了实现给客户端反馈信息<br>6,通过客户端的输出流，写数据到流中<br>7,关闭流资源</p>

      
    </div>

    

    
    
    
    
	<div>
      
        <div>
    
        <div style="text-align:center;color: #ff73b3;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>
      
    </div>
	
	
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>感谢您的支持，我会继续努力的!</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wexin.JPG" alt="QJun 微信支付">
        <p>微信支付</p>
      </div>
    

    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/11/30/day31笔记/" rel="next" title="java学习笔记——基础29(数据库表项目基础练习)">
                <i class="fa fa-chevron-left"></i> java学习笔记——基础29(数据库表项目基础练习)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/02/day33笔记/" rel="prev" title="java学习笔记——基础31(类加载器,反射)">
                java学习笔记——基础31(类加载器,反射) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MDE0MS8xNjY2OA=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/10.jpg" alt="QJun">
            
              <p class="site-author-name" itemprop="name">QJun</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry, Stay Foolish!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">75</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="mailto:qjun@hust.edu.cn" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://github.com/" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://plus.google.com/" target="_blank" title="Google"><i class="fa fa-fw fa-google"></i>Google</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.facebook.com/" target="_blank" title="FB Page"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://leesen998.github.io/about/" title="关于此博客" target="_blank">关于此博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://poetryscience.ink/" title="Huixin" target="_blank">Huixin</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ultimatehy.github.io/" title="Yong Huang" target="_blank">Yong Huang</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#01网络模型"><span class="nav-number">1.</span> <span class="nav-text">01网络模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#02IP地址"><span class="nav-number">2.</span> <span class="nav-text">02IP地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#03端口号"><span class="nav-number">3.</span> <span class="nav-text">03端口号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#04InetAddress类"><span class="nav-number">4.</span> <span class="nav-text">04InetAddress类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#05UDP协议"><span class="nav-number">5.</span> <span class="nav-text">05UDP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#06TCP协议"><span class="nav-number">6.</span> <span class="nav-text">06TCP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#07-UDP-数据包和发送对象介绍"><span class="nav-number">7.</span> <span class="nav-text">07 UDP:数据包和发送对象介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#A-数据包和发送对象介绍"><span class="nav-number">7.1.</span> <span class="nav-text">*A:数据包和发送对象介绍:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#B-DatagramPacket类："><span class="nav-number">7.2.</span> <span class="nav-text">*B: DatagramPacket类：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#C-DatagramSocket类："><span class="nav-number">7.3.</span> <span class="nav-text">*C: DatagramSocket类：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#08UDP发送端"><span class="nav-number">8.</span> <span class="nav-text">08UDP发送端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#09UDP接收端"><span class="nav-number">9.</span> <span class="nav-text">09UDP接收端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10UDP接收端的拆包"><span class="nav-number">10.</span> <span class="nav-text">10UDP接收端的拆包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11键盘输入的聊天"><span class="nav-number">11.</span> <span class="nav-text">11键盘输入的聊天</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12TCP的客户端和服务器"><span class="nav-number">12.</span> <span class="nav-text">12TCP的客户端和服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ServerSocket的构造方法"><span class="nav-number">12.1.</span> <span class="nav-text">ServerSocket的构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Socket的常用构造方法"><span class="nav-number">12.2.</span> <span class="nav-text">Socket的常用构造方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13TCP的客户端程序"><span class="nav-number">13.</span> <span class="nav-text">13TCP的客户端程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14TCP的服务器程序以及accept方法"><span class="nav-number">14.</span> <span class="nav-text">14TCP的服务器程序以及accept方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15TCP的服务器程序读取客户端数据"><span class="nav-number">15.</span> <span class="nav-text">15TCP的服务器程序读取客户端数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16TCP的服务器和客户端的数据交换"><span class="nav-number">16.</span> <span class="nav-text">16TCP的服务器和客户端的数据交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17TCP的中的流对象"><span class="nav-number">17.</span> <span class="nav-text">17TCP的中的流对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18TCP文件上传–案例分析"><span class="nav-number">18.</span> <span class="nav-text">18TCP文件上传–案例分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19TCP文件上传–客户端"><span class="nav-number">19.</span> <span class="nav-text">19TCP文件上传–客户端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20TCP文件上传–服务器"><span class="nav-number">20.</span> <span class="nav-text">20TCP文件上传–服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21TCP文件上传–问题解决"><span class="nav-number">21.</span> <span class="nav-text">21TCP文件上传–问题解决</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP上传文件名"><span class="nav-number">22.</span> <span class="nav-text">TCP上传文件名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多线程上传案例"><span class="nav-number">23.</span> <span class="nav-text">多线程上传案例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结"><span class="nav-number">24.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#UDP程序交互的流程"><span class="nav-number">24.1.</span> <span class="nav-text">UDP程序交互的流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP程序交互的流程"><span class="nav-number">24.2.</span> <span class="nav-text">TCP程序交互的流程</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">© 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="heart">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">QJun</span>

  

  
</div>











<div class="weixin-box">
  <div class="weixin-menu">
    <div class="weixin-hover">
      <div class="weixin-description">微信扫一扫，订阅本博客</div>
    </div>
  </div>
</div>
        
<div class="busuanzi-count">
  <script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    
  

  
  
    
  

  
  
    
  


  


  

  



  
  

  
  




  


  



  



  
    
  










  

  





  

  

  

  
  

  
  

  


  
  

  

  

  

  

  

  


  
  
  
  





<!-- 代码块复制功能 -->
  


<script type="text/javascript" src="/bundle.js"></script><script type="text/javascript">window.livereOptions = {
        refer: '2016/12/01/day32笔记 /'
      };
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');;// Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });;L2Dwidget.init({"tagMode":true,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":100,"height":200,"hOffset":10,"vOffset":10},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html><!-- 页面点击小红心 -->